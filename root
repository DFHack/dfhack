{"version":1,"ops":[{"type":1,"author":{"id":"d4ba99f16422e9377de56dab81d2b84415f00388"},"timestamp":1597848662,"metadata":{"github-id":"MDU6SXNzdWU2ODE5MDM3NTk=","github-url":"https://github.com/DFHack/dfhack/issues/1629","origin":"github"},"title":"exportlegends: Historical event type: `masterpiece_lost` `histfig` incorrect","message":"While testing a world for DF Storyteller I found this event:\n```xml\n\u003chistorical_event\u003e\n        \u003cid\u003e113917\u003c/id\u003e\n        \u003ctype\u003emasterpiece_lost\u003c/type\u003e\n        \u003ccreation_event\u003e108560\u003c/creation_event\u003e\n        \u003chistfig\u003e1953722220\u003c/histfig\u003e\n        \u003csite\u003e395\u003c/site\u003e\n        \u003cmethod\u003emelt\u003c/method\u003e\n\u003c/historical_event\u003e\n```\nThe `histfig` in this case has ID `1953722220` the problem is the world only has `11733` historical figure. So this historical figure does not exist.\nI don't know how this happened. It might have something to do with `\u003ctype\u003emasterpiece_lost\u003c/type\u003e` as most `histfig` for this type are set to `0`.\nYou can find the export here: https://gitlab.com/df_storyteller/df-storyteller/uploads/e09bde70c0e78847dde25e8753b5d744/legends-region4_4th_embark-00162-08-26.zip\nI don't have the world save, but here it the related issue https://gitlab.com/df_storyteller/df-storyteller/-/issues/86","files":null}]}