{"version":1,"ops":[{"type":1,"author":{"id":"41007559e74fa0638bf8bfc0dd1caa1fcff75fb0"},"timestamp":1310193566,"metadata":{"github-id":"MDU6SXNzdWUxMTk0MzEz","github-url":"https://github.com/DFHack/dfhack/issues/88","origin":"github"},"title":"dfincremental sometimes gets pread errors on Linux","message":"Sometimes dfincremental will give a \"pread failed: can't read\" error.  The size being read is always large, over 100,000,000.  Using gdb, I got this stack trace:\n#1  0xb7f93100 in DFHack::LinuxProcessBase::read (this=0x812e798,\n\n```\noffset=170082304, size=171462656, target=0xac0af008 \"\")\nat /home/matt/develop/dfhack/library/DFProcess-linux-base.cpp:164\n```\n#2  0xb7f36e7d in DFHack::Context::ReadRaw (this=0x8104cf0, offset=170082304,\n\n```\nsize=171462656, target=0xac0af008 \"\")\nat /home/matt/develop/dfhack/library/DFContext.cpp:132\n```\n#3  0x08056b3c in SegmentFinder::SegmentFinder (this=0x806d080, mr=...,\n\n```\nDF=0x8104cf0, SF=0xbfffea64)\nat /home/matt/develop/dfhack/tools/supported/SegmentedFinder.h:22\n```\n#4  0x08056cdc in SegmentedFinder::SegmentedFinder (this=0xbfffea64,\n\n```\nranges=..., DF=0x8104cf0)\nat /home/matt/develop/dfhack/tools/supported/SegmentedFinder.h:101\n```\n#5  0x080540b2 in FindCoords (DFMgr=..., ranges=...)\n\n```\nat /home/matt/develop/dfhack/tools/supported/incrementalsearch.cpp:485\n```\n#6  0x080567c2 in main ()\n\n```\nat /home/matt/develop/dfhack/tools/supported/incrementalsearch.cpp:978\n```\n\nI don't know why it's trying to read 171,462,656 bytes when looking for a segment, but I'm guessing looks like that's the cause of the problem.","files":null}]}