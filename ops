{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1459706827,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIwNTAyMzQzMg==","github-url":"https://github.com/DFHack/dfhack/issues/885#issuecomment-205023432"},"message":"What about mode 2? One of the modes is for items reserved in some way, so there may be a good reason for setting that flag.","files":null},{"type":3,"author":{"id":"2c331b5d0c2dfc9520ea7e0b4498fd71d03e92da"},"timestamp":1459758869,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIwNTE5NTQ4NA==","github-url":"https://github.com/DFHack/dfhack/issues/885#issuecomment-205195484"},"message":"mode 2 is the mode that actually installs items into buildings, they will then become structural part of that building (or at least, they will display that status and not be available for jobs etc).\n\nthere might be a reason to set that flag, but as far as i can see there is no practical difference between the 2 modes and there is no mode 1, and, incidentally, there is no mode that _just puts_ items into buildings.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1459768728,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIwNTI0OTIxOA==","github-url":"https://github.com/DFHack/dfhack/issues/885#issuecomment-205249218"},"message":"There is a mode 1 (and possibly other modes as well), but it's not supported by this function for some reason.","files":null},{"type":3,"author":{"id":"2c331b5d0c2dfc9520ea7e0b4498fd71d03e92da"},"timestamp":1459771458,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIwNTI2NTI2MA==","github-url":"https://github.com/DFHack/dfhack/issues/885#issuecomment-205265260"},"message":"well, anyway. from my perspective the most obvious way for this to work would be that mode 0 (or no mode) just puts stuff in a building like in a container.","files":null},{"type":3,"author":{"id":"88b79c31fdfd52952dafcabb16168259734368cc"},"timestamp":1459777174,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIwNTI5OTAzMQ==","github-url":"https://github.com/DFHack/dfhack/issues/885#issuecomment-205299031"},"message":"IIRC only two modes are used by vanilla df. All others are legacy. Also i'm not sure what the intent of moveToBuilding was or maybe it was less researched...\n\nAlso i think this relates to #877","files":null},{"type":3,"author":{"id":"2c331b5d0c2dfc9520ea7e0b4498fd71d03e92da"},"timestamp":1459787883,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIwNTM4NDM0Nw==","github-url":"https://github.com/DFHack/dfhack/issues/885#issuecomment-205384347"},"message":"i dont know which context vanilla df uses this, perhaps job products are put into buildings in a different way?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1459804231,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIwNTQ5ODk3Mw==","github-url":"https://github.com/DFHack/dfhack/issues/885#issuecomment-205498973"},"message":"@warmist: looks like you added `in_building=true` in the original version of the function (48185568e9a9370f843fb28f1ff53335639b92d6) and it's always been there. It does appear that normal items in buildings don't have `is_building` set - setting it for items in depots makes the yellow `[T]` (trade) indicator show up, and makes a blue `[B]` indicator show up for modes other than 2.\nIt does seem like not setting the in_building flag should work, then. Any objections?","files":null},{"type":3,"author":{"id":"88b79c31fdfd52952dafcabb16168259734368cc"},"timestamp":1459832170,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIwNTY0Mzk4NA==","github-url":"https://github.com/DFHack/dfhack/issues/885#issuecomment-205643984"},"message":"We should think how new people would use it. Imho we should explicitly ask for another bool \"part_of_building\" or something like that and then just do in_building=part_of_building. This way it would be more clear what it does.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1465925236,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDY5MjE2MzQ0Nw=="},"added":["bug"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1465925236,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDY5MjE2MzQ0OA=="},"added":["duplicate"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1468525887,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDcyMzQ5ODgzNw=="},"added":["has save"],"removed":[]}]}