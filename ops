{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1408379295,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyNTE3MzAz","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-52517303"},"message":"What platform are you using? If you're using Linux or OS X, is the \"dfhack\" script in the same directory as the \"df\" script?","files":null},{"type":3,"author":{"id":"a9e3e85fc6f741b64e4ed0792dfd79667a9693c3"},"timestamp":1408382227,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyNTI0MDgw","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-52524080"},"message":"I'm using Arch Linux. Sorry for not mentioning it in the first place.\n\nI don't know which `df` script do you mean. Here's what my `/opt/dwarffortress` looks like:\n\n![2014-08-18 21 02 10](https://cloud.githubusercontent.com/assets/1831620/3954707/6e932244-26f9-11e4-9a70-592f8a40fcf6.png)\n\nThere are also two scripts under `/usr/bin`, maybe you mean them:\n\n``` java\n-rwxr-xr-x 1 root root 673 авг 17 19:43 /usr/bin/dwarffortress\n-rwxr-xr-x 1 root root 253 авг 17 18:08 /usr/bin/dwarffortress-hacked\n```\n\n#### /usr/bin/dwarffortress\n\n``` sh\n#!/bin/sh\nexport SDL_DISABLE_LOCK_KEYS=1 # Work around for bug in Debian/Ubuntu SDL patch.\n#export SDL_VIDEO_CENTERED=1    # Centre the screen.  Messes up resizing.\n\npkgname=dwarffortress\n\nif [[ ! -d \"$HOME/.$pkgname\" ]]; then\n    mkdir -p \"$HOME/.$pkgname/data\"\n    ln -s /opt/\"$pkgname\"/raw \"$HOME/.$pkgname/raw\"\n    ln -s /opt/\"$pkgname\"/libs \"$HOME/.$pkgname/libs\"\n    cp -rn /opt/\"$pkgname\"/data/init \"$HOME/.$pkgname/data/init\"\nfi\n\nfor link in announcement art dipscript help index initial_movies movies shader.fs shader.vs sound speech; do\n    cp -r /opt/\"$pkgname\"/data/$link \"$HOME/.$pkgname/data/$link\"\ndone\n\ncd \"$HOME/.$pkgname\"\nexec ./libs/Dwarf_Fortress \"$@\"\n```\n\n#### /usr/bin/dwarffortress-hacked\n\n``` sh\n#!/bin/sh\ncd /opt/dwarffortress\nexport SDL_DISABLE_LOCK_KEYS=1 # Work around for bug in Debian/Ubuntu SDL patch.\n#export SDL_VIDEO_CENTERED=1    # Centre the screen.  Messes up resizing.\n\n# Really we shouldn't need this, but...\numask 0002\nexec ./dfhack \"$@\"\n```","files":null},{"type":3,"author":{"id":"a9e3e85fc6f741b64e4ed0792dfd79667a9693c3"},"timestamp":1408648100,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyOTY3MjEz","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-52967213"},"message":"Any ideas?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1408652087,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUyOTc1ODcx","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-52975871"},"message":"Make sure DF has write access to everything in its directory (particularly under data/).","files":null},{"type":3,"author":{"id":"a9e3e85fc6f741b64e4ed0792dfd79667a9693c3"},"timestamp":1408674274,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMDE0ODE0","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53014814"},"message":"Very well! `chmod 777 -R /opt/dwarffortress`, and it doesn't refuse to run anymore. DF works just fine.\n\nHowever, now there's another problem: I don't see the usual DFhack prompt in the terminal. It just runs non-interactive.","files":null},{"type":3,"author":{"id":"a9e3e85fc6f741b64e4ed0792dfd79667a9693c3"},"timestamp":1408896905,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMTk4Mjg4","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53198288"},"message":"Any thoughts?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1408903325,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMjAxNTYx","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53201561"},"message":"Check stderr.log (most likely in your DF directory). Are you using the correct version of DF and DFHack? DFHack for DF 0.40.08 isn't compatible with 0.40.09 (and vice versa).","files":null},{"type":3,"author":{"id":"a9e3e85fc6f741b64e4ed0792dfd79667a9693c3"},"timestamp":1409000109,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMzI5MTM4","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53329138"},"message":"Yeah, `stderr.log` says that DFhack doesn't recognize this DF version. I updated DF to 0.40.09 recently. So, which version of DFhack should I use? `master` is not okay for 0.40.09?","files":null},{"type":3,"author":{"id":"26b11f0ce6b39ac7615d3a24c6880ec977d1cf04"},"timestamp":1409001428,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMzM0MTYw","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53334160"},"message":"the most recent version of DF currently supported by dfhack is 0.40.8","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1409003446,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMzQwNDg4","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53340488"},"message":"https://github.com/quietust/dfhack/tree/develop is compatible with 0.40.09-10, although you'll want to use the latest df-structures:\n\n``` sh\ncd \u003cdfhack\u003e/library/xml\ngit fetch origin\ngit checkout origin/master\ncd ../..\n```","files":null},{"type":3,"author":{"id":"a9e3e85fc6f741b64e4ed0792dfd79667a9693c3"},"timestamp":1409015405,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMzYxMDM0","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53361034"},"message":"Ok, I downgraded DF to 0.40.08, and DFhack finally works as expected. That's nice.\n\nNow I have another problem: Stonesense fails to load.\n\n```\n/opt/dwarffortress/hack/plugins/stonesense.plug.so: undefined symbol: al_color_rgb_to_hsv\nCan't load plugin /opt/dwarffortress/hack/plugins/stonesense.plug.so\n```","files":null},{"type":3,"author":{"id":"26b11f0ce6b39ac7615d3a24c6880ec977d1cf04"},"timestamp":1409076255,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzNDYzMzQz","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53463343"},"message":"al_color_rgb_to_hsv is an allegro symbol.  Be sure you have the required version of allegro installed.","files":null},{"type":3,"author":{"id":"a9e3e85fc6f741b64e4ed0792dfd79667a9693c3"},"timestamp":1409122147,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzNTMyNjkz","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53532693"},"message":"I have allegro 5.0.10 installed, both 32- and 64-bit versions.","files":null},{"type":3,"author":{"id":"a9e3e85fc6f741b64e4ed0792dfd79667a9693c3"},"timestamp":1409320824,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzODc4OTk5","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-53878999"},"message":"Any suggestions?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1411155614,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU2MjI0NzM4","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-56224738"},"message":"Try the fix in #282","files":null},{"type":3,"author":{"id":"a9e3e85fc6f741b64e4ed0792dfd79667a9693c3"},"timestamp":1411192290,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU2MjU3ODc3","github-url":"https://github.com/DFHack/dfhack/issues/288#issuecomment-56257877"},"message":"Worked. DF, DFhack \u0026 Stonesense work fine. Thanks for the help.","files":null},{"type":4,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417212108,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjAwMDcwNzk2"},"status":2},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1423090224,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIzMDQxMTcwOQ=="},"added":["crash/hang"],"removed":[]}]}