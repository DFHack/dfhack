{"version":1,"ops":[{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585688007,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMxODUxMjY4Nzc="},"added":["crash/hang"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585688007,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMxODUxMjY4ODA="},"added":["develop only"],"removed":[]},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585688195,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNjg3MDI2Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1529#issuecomment-606870262"},"message":"For our reference: it's a null pointer dereference, and here's the relevant backtrace:\n```\nThread 1 Crashed:\n0   dwarfort.exe                        0x0000000100d900e0 0x100000000 + 14221536\n1   dwarfort.exe                        0x00000001006f89c2 0x100000000 + 7309762\n2   dwarfort.exe                        0x0000000100e75be2 0x100000000 + 15162338\n3   dwarfort.exe                        0x0000000100f2f286 0x100000000 + 15921798\n4   dwarfort.exe                        0x0000000100718278 0x100000000 + 7438968\n5   ???                                 0x00000001032f4cd0 vtable for std::basic_fstream\u003cchar, std::char_traits\u003cchar\u003e \u003e + 24\n```\n\nI *suspect* this is an issue in DF's serialization code (trying to write a null C string to a file, maybe?). Have you noticed the problem in other saves, or in other builds of DFHack?\nIf it's specific to just this save, uploading it to DFFD might help.","files":null},{"type":6,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585688195,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6MzYxOTY4OTI3"},"target":"8789acec8bd4f2104558b8c7261ce369c3a6a978fcacd6eaa2af79631fa8c6d9","message":"For our reference: it's a null pointer dereference, and here's the relevant backtrace:\n```\nThread 1 Crashed:\n0   dwarfort.exe                        0x0000000100d900e0 0x100000000 + 14221536\n1   dwarfort.exe                        0x00000001006f89c2 0x100000000 + 7309762\n2   dwarfort.exe                        0x0000000100e75be2 0x100000000 + 15162338\n3   dwarfort.exe                        0x0000000100f2f286 0x100000000 + 15921798\n4   dwarfort.exe                        0x0000000100718278 0x100000000 + 7438968\n5   ???                                 0x00000001032f4cd0 vtable for std::basic_fstream\u003cchar, std::char_traits\u003cchar\u003e \u003e + 24\n```\n\nI *suspect* this is an issue in DF's serialization code (trying to write a null C string to a file, maybe?). Have you noticed the problem in other saves, or in other builds of DFHack?\nIf it's specific to just this save, uploading it to DFFD might help.\n\nEdit: another thing you could try is running DF without DFHack. This is easy enough on macOS - just run `./df` instead of `./dfhack`","files":null},{"type":6,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585688224,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6MzYxOTY5MDYx"},"target":"8789acec8bd4f2104558b8c7261ce369c3a6a978fcacd6eaa2af79631fa8c6d9","message":"For our reference: it's a null pointer dereference, and here's the relevant backtrace:\n```\nThread 1 Crashed:\n0   dwarfort.exe                        0x0000000100d900e0 0x100000000 + 14221536\n1   dwarfort.exe                        0x00000001006f89c2 0x100000000 + 7309762\n2   dwarfort.exe                        0x0000000100e75be2 0x100000000 + 15162338\n3   dwarfort.exe                        0x0000000100f2f286 0x100000000 + 15921798\n4   dwarfort.exe                        0x0000000100718278 0x100000000 + 7438968\n5   ???                                 0x00000001032f4cd0 vtable for std::basic_fstream\u003cchar, std::char_traits\u003cchar\u003e \u003e + 24\n```\n\nI *suspect* this is an issue in DF's serialization code (trying to write a null C string to a file, maybe?). Have you noticed the problem in other saves, or in other builds of DFHack?\nIf it's specific to just this save, uploading it to DFFD might help.\n\nEdit: another thing you could try is running DF without DFHack to see if the issue occurs then (although if it's intermittent, a lack of a crash might not be meaningful). This is easy enough on macOS - just run `./df` instead of `./dfhack`","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1586837057,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxMzIxNDEzMw==","github-url":"https://github.com/DFHack/dfhack/issues/1529#issuecomment-613214133"},"message":"@TwistedBlizzard have you been able to reproduce this? If so, does it reproduce in 0.47.04-beta1?","files":null},{"type":3,"author":{"id":"014bfcc280dbffda3e472795ad6e909f75bb9abe"},"timestamp":1586983720,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxNDI3MjI4Mw==","github-url":"https://github.com/DFHack/dfhack/issues/1529#issuecomment-614272283"},"message":"I'm still using the build I mentioned in my first post. I haven't come across the issue since, either with the original save or a new one (about 24 hours of total gameplay). I'll update to beta1 and keep an eye out!","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1586983938,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxNDI3MzkyNw==","github-url":"https://github.com/DFHack/dfhack/issues/1529#issuecomment-614273927"},"message":"Sounds good. If you do end up getting to a state where it's reliably reproducible, I'd still recommend running without DFHack to see if it still crashes.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1587795957,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxOTMyOTY2Mw==","github-url":"https://github.com/DFHack/dfhack/issues/1529#issuecomment-619329663"},"message":"I'm going to close this as I suspect it's a DF issue, but feel free to reopen if it reproduces and we can take a look at another crash report","files":null},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1587795957,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzI3MTYzNTIwMg=="},"status":2}]}