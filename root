{"version":1,"ops":[{"type":1,"author":{"id":"41007559e74fa0638bf8bfc0dd1caa1fcff75fb0"},"timestamp":1310377004,"metadata":{"github-id":"MDU6SXNzdWUxMjAwNTUx","github-url":"https://github.com/DFHack/dfhack/issues/94","origin":"github"},"title":"Creature's likes","message":"Poking around with edb, it looks like the 12 bytes right after the skills list vector triplet is another vector triplet, which points at a vector of vector triplets which point at a creature's likes.  At least, treating it like that by hand via edb let me change the preferred stone type of a dwarf.  However, trying to do a `DfVector \u003ct_vecTriplet\u003e likes(p, offset)` results in a crash due to free()ing an invalid pointer.  When I run it through valgrind it gives me one `Syscall param pread64(buf) points to unaddressable byte(s)` in the DfVector constructor when trying to do `p-\u003eread(...)`, but it doesn't crash , and my printf() which gives the number of likes-vectors per creature seems reasonable (4 or 5 for each dwarf and 0 for everything else).\n\nSo, I think I'm on the right track, but I don't know how to proceed.","files":null}]}