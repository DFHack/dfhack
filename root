{"version":1,"ops":[{"type":1,"author":{"id":"a10bb18273fda532ce8d52ddcd638cbde7e208f2"},"timestamp":1521846756,"metadata":{"github-id":"MDU6SXNzdWUzMDgyMDM3NjY=","github-url":"https://github.com/DFHack/dfhack/issues/1247","origin":"github"},"title":"Attempting to create advanced workflow constraint for silver crafts results in error","message":"Version 0.44.07-alpha1 64-bit\nI want to create a workflow constraint that basically says \"keep making until between 5-10 masterful crafts of any material\".\nThe repeat job I attempted it on was on \"Create Silver Crafts\" at a metalsmith's forge. When pressing shift+enter to get to the advanced menu, it simply closes and DFhack gives me an error. I could make a normal constraint without issue. Here is the error:\n\n```\n...-0.44.07-alpha1-Windows-64/hack/scripts/gui/workflow.lua:429: attempt to compare number with nil\nstack traceback:\n        ...-0.44.07-alpha1-Windows-64/hack/scripts/gui/workflow.lua:429: in method 'isValid'\n        ...-0.44.07-alpha1-Windows-64/hack/scripts/gui/workflow.lua:436: in method 'onChange'\n        ...-0.44.07-alpha1-Windows-64/hack/scripts/gui/workflow.lua:425: in local 'fun'\n        ...ress\\dfhack-0.44.07-alpha1-Windows-64\\hack\\lua\\class.lua:98: in upvalue 'invoke_after_rec'\n        ...ress\\dfhack-0.44.07-alpha1-Windows-64\\hack\\lua\\class.lua:129: in global 'NewConstraint'\n        ...-0.44.07-alpha1-Windows-64/hack/scripts/gui/workflow.lua:1049: in field 'on_select2'\n        ...fhack-0.44.07-alpha1-Windows-64\\hack\\lua\\gui\\dialogs.lua:177: in field 'on_submit2'\n        ...fhack-0.44.07-alpha1-Windows-64\\hack\\lua\\gui\\widgets.lua:611: in method 'submit2'\n        ...fhack-0.44.07-alpha1-Windows-64\\hack\\lua\\gui\\widgets.lua:620: in method 'onInput'\n        ...rtress\\dfhack-0.44.07-alpha1-Windows-64\\hack\\lua\\gui.lua:483: in method 'inputToSubviews'\n        ...fhack-0.44.07-alpha1-Windows-64\\hack\\lua\\gui\\dialogs.lua:224: in function \u003c...fhack-0.44.07-alpha1-Windows-64\\hack\\lua\\gui\\dialogs.lua:217\u003e\n        [C]: in ?\n```","files":null}]}