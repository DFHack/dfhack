{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1417881258,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY1OTAyOTE2","github-url":"https://github.com/DFHack/dfhack/issues/436#issuecomment-65902916"},"message":"[Line 509](https://github.com/Ramblurr/dfhack/blob/b9a2ecb440f4fd593dd46f575d70dbb3044d9194/plugins/stockpiles/stockpiles.cpp#L509) (`lua_error(L)`) is the line that's crashing. I don't know why this would be OS X-specific.\nEdit: Ah, it's throwing an exception. Catching it prevents the crash, although I don't know exactly what the problem is.","files":null},{"type":3,"author":{"id":"702387a998b76771bd3f3474fa84eeb77622a5db"},"timestamp":1417944324,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY1OTMxNTY3","github-url":"https://github.com/DFHack/dfhack/issues/436#issuecomment-65931567"},"message":"```\n23:07 \u003clethosor\u003e it applies to core too, so it's not just your plugin\n23:07 \u003clethosor\u003e (that is, core code crashes as well)\n```","files":null},{"type":5,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1418679158,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwNzkxNTM1MA=="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1419188220,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3NzgwMzI5","github-url":"https://github.com/DFHack/dfhack/issues/436#issuecomment-67780329"},"message":"This is actually an issue with GCC 4.5.1 on OS X - GCC 4.5.4 fixes this (see #437).\nEdit: To clarify, replacing DF's libstdc++ with one from GCC 4.5.4 fixes the issue.","files":null},{"type":3,"author":{"id":"1d743145e739364f08dd7d3a286c26de3406a9db"},"timestamp":1419239867,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3ODE2NDMz","github-url":"https://github.com/DFHack/dfhack/issues/436#issuecomment-67816433"},"message":"Just checked - I used [brew compiled gcc 4.5.4](https://github.com/Homebrew/homebrew-versions/blob/36216c64370cf018a629a58f0d03bdae047bb945/gcc45.rb) to build the plugin.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1419254273,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3ODM1ODU3","github-url":"https://github.com/DFHack/dfhack/issues/436#issuecomment-67835857"},"message":"Did you replace libstdc++?","files":null},{"type":3,"author":{"id":"1d743145e739364f08dd7d3a286c26de3406a9db"},"timestamp":1419269844,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3ODY1ODM3","github-url":"https://github.com/DFHack/dfhack/issues/436#issuecomment-67865837"},"message":"Ok, I misunderstood your post. I can confirm that replacing df/libs/libstdc++.6 fixes this crash. Thx for the investigation and solution.","files":null},{"type":4,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1420506777,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjE0NDQ5MjUw"},"status":2},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1423090224,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIzMDQxMTcxNQ=="},"added":["crash/hang"],"removed":[]}]}