{"version":1,"ops":[{"type":1,"author":{"id":"0541b7dd92e4d9285c31215454cda686ef6b8a4e"},"timestamp":1481917682,"metadata":{"github-id":"MDU6SXNzdWUxOTYxNDAwNzY=","github-url":"https://github.com/DFHack/dfhack/issues/1047","origin":"github"},"title":"buildingplan: planning mode builds fail sometimes - flags bitfield not initialized","message":"I made a burial room with space for 25 coffins. Placed 25 coffins (with 25 available in inventory) in planning mode. Promptly after unpause, seven of the planned coffins disappeared from the map, but the spaces where they were planned to be built are shown as \"occupied\". Seven more were cancelled, with cancellation notices; the spaces they were planned to be built are clear. Two were built. The remaining are pending building at this time.\n\nI cannot discern any pattern to which ones were cancelled/ghosted/built/not built. I don't see any way to recover the \"ghosted\" squares.\n\nAdditional info: after the weird behavior, the following errors get spammed to the DFHack console on a recurring basis:\n```\nC:\\Users\\Kelly\\df_43_05_win\\hack\\lua\\utils.lua:309: table index is nil\nstack traceback:\n        C:\\Users\\Kelly\\df_43_05_win\\hack\\lua\\utils.lua:309: in function 'utils.parse_bitfield_int'\n        C:\\Users\\Kelly\\df_43_05_win\\hack\\lua\\plugins\\workflow.lua:116: in upvalue 'guess_job_material'\n        C:\\Users\\Kelly\\df_43_05_win\\hack\\lua\\plugins\\workflow.lua:228: in upvalue 'enum_job_outputs'\n        C:\\Users\\Kelly\\df_43_05_win\\hack\\lua\\plugins\\workflow.lua:241: in function 'plugins.workflow.doEnumJobOutputs'\n```","files":null}]}