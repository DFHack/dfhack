{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1548740745,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ1ODQxNTQwNw==","github-url":"https://github.com/DFHack/dfhack/issues/1430#issuecomment-458415407"},"message":"I'd say this is expected. DF is probably keeping the item pointers in another list somewhere - this sort of pattern isn't uncommon. I'm not sure where they would be off the top of my head, but probably in ui_advmode somewhere.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1548740750,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIxMDI2OTUxMTY="},"added":["question"],"removed":[]},{"type":3,"author":{"id":"09d05f81cc874e2f1a28b63036d18ae3fd2a6fe4"},"timestamp":1548820246,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ1ODgwMjAzNg==","github-url":"https://github.com/DFHack/dfhack/issues/1430#issuecomment-458802036"},"message":"For future reference, this is how I solved this problem:\n```lua\nlocal player = df.global.world.units.active[0]\nlocal pos = player.pos\nlocal items={}\nfor k,v in pairs(df.global.world.items.all) do\n    if v.flags.on_ground and v.pos.x==pos.x and v.pos.y==pos.y and v.pos.z==pos.z then\n        table.insert(items,v)\n    end\nend\n```","files":null},{"type":4,"author":{"id":"09d05f81cc874e2f1a28b63036d18ae3fd2a6fe4"},"timestamp":1548820251,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjEwNTQ2OTMxOQ=="},"status":2}]}