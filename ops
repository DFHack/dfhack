{"version":1,"ops":[{"type":3,"author":{"id":"4f2823b111a40d19603a11dc9e0f3c589bea0f03"},"timestamp":1309949137,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1MTA5MDU=","github-url":"https://github.com/DFHack/dfhack/issues/85#issuecomment-1510905"},"message":"OK. This has some problems. I merged it into the master branch and then ported the functionality to the new dfapi branch: https://github.com/peterix/dfhack/commit/8318213b975a8f132a8e7b9a16d6e42d99b11892\n\nI had to fix some bugs in it, and the bug fixes will need backporting to master though:\n- It ignored hell entirely. Hell is a global feature, not a local one (so it's possible to mix a global feature, like the magma sea/hell, and a local feature, like adamantine veins).\n- The first unsafe layer was still revealed - probably OK when you end with that layer, but I changed it so it decides on what to reveal per-block.\n- I also fixed up the isSafe function to use some already available Maps calls instead of messing with the map cache. Map cache copies the whole map when used like this... and that's a lot of data. This is a problem especially in the dfapi branch, where dfhack operates inside DF's memory space.\n\nAnyway, rock on. I know the documentation isn't exactly stellar :)","files":null},{"type":3,"author":{"id":"4f2823b111a40d19603a11dc9e0f3c589bea0f03"},"timestamp":1316897782,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIxODgxNTA=","github-url":"https://github.com/DFHack/dfhack/issues/85#issuecomment-2188150"},"message":"Closing, the default reveal doesn't reveal hell anymore.","files":null},{"type":4,"author":{"id":"4f2823b111a40d19603a11dc9e0f3c589bea0f03"},"timestamp":1316897782,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzU3MDMzOA=="},"status":2},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1423175984,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIzMTEyMTk4NQ=="},"added":["idea"],"removed":[]}]}