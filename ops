{"version":1,"ops":[{"type":3,"author":{"id":"d43bbc88f959d3b3a7dc2c667ab022148be6266a"},"timestamp":1591113810,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzNzY0ODQ1NQ==","github-url":"https://github.com/DFHack/dfhack/issues/1584#issuecomment-637648455"},"message":"Usually, you need to create a C++ DFHack plugin which process the data that you need to use in the input proto message and pack it to a proto out message.\n\nCheck [RemoteFortressReader ](https://github.com/DFHack/dfhack/blob/develop/plugins/remotefortressreader/remotefortressreader.cpp#L146) plugin as a example.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1591114906,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzNzY2MTU5MQ==","github-url":"https://github.com/DFHack/dfhack/issues/1584#issuecomment-637661591"},"message":"We're using our own RPC protocol, actually, not gRPC. I don't think gRPC would work with DFHack out of the box, but maybe it's similar.","files":null},{"type":3,"author":{"id":"8be32454ab0eacc6a53040e20daaa1d5b6e3b643"},"timestamp":1591117157,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzNzY4MTUxNQ==","github-url":"https://github.com/DFHack/dfhack/issues/1584#issuecomment-637681515"},"message":"Ah, gotcha, thanks. I just googled \"rpc protobuf\", and so google's rpc protocol came up, hence the confusion. :)\n\nHm, so I guess I'd have to implement that protocol in node myself. I tried to find the implementation in armokvision, but couldn't. How difficult would it be to implement from scratch?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1591118527,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzNzY5MzA4MA==","github-url":"https://github.com/DFHack/dfhack/issues/1584#issuecomment-637693080"},"message":"https://github.com/RosaryMala/RemoteClientDF-Net is (at least most of) Armok Vision's RPC implementation. You're at least the second person this month to ask about DFHack's RPC protocol, and it is definitely in need of documentation. Ragundo (or RosaryMala) would know more about the protocol than myself at the moment.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1591118832,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMzOTg3MjEyMDU="},"added":["question"],"removed":[]},{"type":3,"author":{"id":"8be32454ab0eacc6a53040e20daaa1d5b6e3b643"},"timestamp":1591119358,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzNzY5OTk5Mw==","github-url":"https://github.com/DFHack/dfhack/issues/1584#issuecomment-637699993"},"message":"Thanks a bunch! I also found the relevant code in DFHack now. So it's just a custom protocol implemented on top of TCP sockets, then. (btw. won't the header break if the server uses a different byte order than the client? Meh, I guess that's an edge case)","files":null},{"type":3,"author":{"id":"fefd87bd170e69ba989c5932b26d53a6f30e8666"},"timestamp":1591134781,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzNzgyNjE2Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1584#issuecomment-637826162"},"message":"I have a Go implementation of the RPC here: https://github.com/BenLubar/dfhackrpc\n\nSince Dwarf Fortress currently only runs on x86, assuming little endian is pretty safe. A lot of code within Dwarf Fortress also passively assumes little endian.","files":null}]}