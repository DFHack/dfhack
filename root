{"version":1,"ops":[{"type":1,"author":{"id":"bf1e6ae4b32e6d9ba21d469d77f9658170fb7e60"},"timestamp":1410701954,"metadata":{"github-id":"MDU6SXNzdWU0MjcyMDcyMw==","github-url":"https://github.com/DFHack/dfhack/issues/331","origin":"github"},"title":"std::hash template","message":"While trying to build like this:\n\n```\n  /opt/cmake-2.8.0/bin/cmake -DCMAKE_INSTALL_PREFIX:PATH=/src/package/game/df_40_10_linux -DDL_RUBY:BOOL=OFF -DBUILD_RUBY:BOOL=OFF ../dfhack_git\n  make 2\u003e\u00261 | tee make.out\n```\n\n.. I saw this error:\n\n```\n[ 42%] Building CXX object library/CMakeFiles/dfhack.dir/Core.cpp.o\nIn file included from /src/package/game/dfhack_git/library/Core.cpp:47:\n/src/package/game/dfhack_git/library/include/modules/EventManager.h:104: error: 'hash' is not a template\n/src/package/game/dfhack_git/library/include/modules/EventManager.h:104: error: explicit specialization of non-template 'std::hash'\n/src/package/game/dfhack_git/library/include/modules/EventManager.h:115: error: 'hash' is not a template\n/src/package/game/dfhack_git/library/include/modules/EventManager.h:115: error: 'std::hash' is not a template type\nmake[2]: *** [library/CMakeFiles/dfhack.dir/Core.cpp.o] Error 1\nmake[1]: *** [library/CMakeFiles/dfhack.dir/all] Error 2\nmake: *** [all] Error 2\n```\n\nI'm no C++ expert, but after finding the page http://en.cppreference.com/w/cpp/utility/hash, I tried the following change, and this was enough to allow the build to continue:\n\n```\n% git log -1\ncommit c4d6c384aed6fbcc7ba158e0c0cb74c1a07007b7\nAuthor: expwnent \u003cnull@nowhere.com\u003e\nDate:   Mon Sep 8 16:12:51 2014 -0400\n\n    Update NEWS.\n% git diff HEAD\ndiff --git a/library/include/DataDefs.h b/library/include/DataDefs.h\nindex 3591be0..7466d9f 100644\n--- a/library/include/DataDefs.h\n+++ b/library/include/DataDefs.h\n@@ -29,6 +29,7 @@ distribution.\n #include \u003cvector\u003e\n #include \u003cmap\u003e\n #include \u003cset\u003e\n+#include \u003cfunctional\u003e\n\n #include \"Core.h\"\n #include \"BitArray.h\"\n% \n```\n\nI'm using gcc/g++ 4.4.3 on Ubuntu 10.04.4. Please let me know if I've done something stupid, or if there are any other version details you need.","files":null}]}