{"version":1,"ops":[{"type":2,"author":{"id":"37f58980110d4e04c0ff4bfa90ec4d1ebcf5b44c"},"timestamp":1527393406,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTY0ODA4NTQ3OQ=="},"title":"Broken script: \"ban-cooking tallow\" gives error message, and does not function","was":"Broken script: \"ban-cooking tallow\" gives error message, and does not function"},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1527393891,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE2NDgwODY4NjQ="},"added":["bug"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1527393891,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE2NDgwODY4NjU="},"added":["structures"],"removed":[]},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1527394094,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5MjMwMzkxNQ==","github-url":"https://github.com/DFHack/dfhack/issues/1293#issuecomment-392303915"},"message":"This was likely broken by https://github.com/DFHack/df-structures/commit/238b3053f37feffdc0ab2d5d4415987c33a5d0e4, which is pretty recent.\nFrom a quick glance, I think you can fix it by changing `\u0026 1` on that line (it's the only occurrence in ban-cooking.rb) with `== :Cook`.\nHowever, it looks like the script assumes that exc_types contains bitfields, when it actually just contains single exclusions. This can be verified with `lua ~df.global.ui.kitchen.exc_types` after forbidding cooking and brewing the same ingredient in the z-kitchen screen. @BenLubar, mind taking a look to see what else needs to be adjusted?\nThanks for the recent reports, by the way.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1527714506,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5MzMxOTkzMQ==","github-url":"https://github.com/DFHack/dfhack/issues/1294#issuecomment-393319931"},"message":"Is this the only setting with an issue? Do you happen to know when DF introduced this setting? The stockpiles plugin might predate it.","files":null},{"type":3,"author":{"id":"007b8a3dbf053346157b9aa353008428774ca6ba"},"timestamp":1527761495,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5MzQ4MzU2Ng==","github-url":"https://github.com/DFHack/dfhack/issues/1294#issuecomment-393483566"},"message":"Yeah, I tried the others and this seems to be the only one. No idea when it was added, but I never noticed it before now. Must be a 0.44 thing at least?","files":null},{"type":3,"author":{"id":"5221f59e75ea9db114593bbdfb180b7354aef9ed"},"timestamp":1527810405,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5MzcxNjc0OA==","github-url":"https://github.com/DFHack/dfhack/issues/1294#issuecomment-393716748"},"message":"The \"usable\" and \"unusable\" flags for the Weapon stockpile section have been in Dwarf Fortress since nearly **forever** - they existed back in 0.28.181.40d, and they even existed in 0.23.130.23a with slightly different names (Local/Foreign).","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1527887005,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5NDAwODQyNA==","github-url":"https://github.com/DFHack/dfhack/issues/1294#issuecomment-394008424"},"message":"Good to know. Looking at StockpileSerializer, it appears to handle these flags for weapon and armor stockpiles. I'm not sure if the issue is with loading them or saving them.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1528407952,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE2Njk2NDMyMTY="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1529372948,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5ODI0ODQ4MQ==","github-url":"https://github.com/DFHack/dfhack/issues/1294#issuecomment-398248481"},"message":"Fix merged (#1311)","files":null},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1529372949,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTY4NzUzNjI3NQ=="},"status":2},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1597985061,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDM2NzgwMDgxNzQ="},"added":["stockpiles"],"removed":[]}]}