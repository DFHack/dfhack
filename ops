{"version":1,"ops":[{"type":2,"author":{"id":"37fce6b9c167f126ff51843a6c93c2859410cc4b"},"timestamp":1435007943,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MzM3MTczOTEw"},"title":"[Adventure] gui.getSelectedUnit() not working.","was":"[Adventure] gui.getSelectedUnit() not working."},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435008296,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDI2NTgyMw==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114265823"},"message":"You have to actually press letters (a, b, c, etc.) in the `l` menu to select a unit, since there's no cursor in that menu that can be used to differentiate between multiple units on a tile. The `k` menu won't work for the same reason.","files":null},{"type":3,"author":{"id":"37fce6b9c167f126ff51843a6c93c2859410cc4b"},"timestamp":1435008588,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDI2ODE4Nw==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114268187"},"message":"I think I had it working a few weeks ago, but I pressed L, then pressed A which opens my skills window, and then attempted to use gui\\hack-wish, and it did not detect the unit","files":null},{"type":3,"author":{"id":"37fce6b9c167f126ff51843a6c93c2859410cc4b"},"timestamp":1435009328,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDI3MjE1OA==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114272158"},"message":"https://www.dropbox.com/s/7605jgqkri9dlgb/Screenshot%202015-06-22%2017.40.35.png?dl=0\nExcuse the blatant cheating :P","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435010810,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDI4MTMxNA==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114281314"},"message":"It works for me on that exact screen in 5bb5d87 (which is newer than 0.40.24-r3). I don't see any related changes, but you could try replacing your version of the script with [the latest version](https://github.com/DFHack/dfhack/blob/develop/scripts/gui/create-item.lua). It's been renamed to `gui/create-item`, but that shouldn't make a difference.\n\nAlso, you should generally use forward slashes in command names for portability, although it won't be as much of an issue in the next release.","files":null},{"type":3,"author":{"id":"37fce6b9c167f126ff51843a6c93c2859410cc4b"},"timestamp":1435011912,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDI4NjAzNQ==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114286035"},"message":"Didn't work. I didn't mention that I'm using the DBZ mod, but I highly doubt that would affect this. This is the latest version of DF.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435017233,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDMwNjczMQ==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114306731"},"message":"What does `lua dfhack.gui.getCurFocus()` return?","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435060419,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMzNzcyNDIzOA=="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"37fce6b9c167f126ff51843a6c93c2859410cc4b"},"timestamp":1435098450,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDY1OTM0OQ==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114659349"},"message":"Nothing.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435099658,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDY2NTQ5NQ==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114665495"},"message":"Oh, you have to print the result - try `lua print(dfhack.gui.getCurFocus())`.","files":null},{"type":3,"author":{"id":"37fce6b9c167f126ff51843a6c93c2859410cc4b"},"timestamp":1435099827,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDY2NjA1Mg==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114666052"},"message":"I'm assuming you meant lua print(dfhack.gui.getCurFocus()) which returned dfhack/lua","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435099984,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDY2NjM5MA==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114666390"},"message":"Yep. If it's returning dfhack/lua, that means there's a lua (DFHack) screen on top of the current screen. Are you running any scripts like this? (It's possible that that mod includes some - check dfhack.init.)","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435100117,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDY2NjY0OA==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114666648"},"message":"Yeah, it looks like that mod implements a screen like that. \ncc @Putnam3145","files":null},{"type":3,"author":{"id":"37fce6b9c167f126ff51843a6c93c2859410cc4b"},"timestamp":1435100152,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDY2NjczNw==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114666737"},"message":"That's unfortunate. Is there another way to reference my unit?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435100246,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDY2Njk5MQ==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114666991"},"message":"Strange, it looks like [this](https://github.com/Putnam3145/SPARKING-Dwarf-Fortress-DBZ-mod/blob/e9640699c247f1934955991c5aa7743c4a51b4af/raw/scripts/dragonball/dwarf_scouter.lua#L173-L175) should make this work, assuming I'm looking at the right viewscreen. Are you using the latest version of that mod?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435100314,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDY2NzEzMQ==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114667131"},"message":"Turns out that was added two days ago. Try replacing dwarf_scouter.lua with the most recent version ([here](https://github.com/Putnam3145/SPARKING-Dwarf-Fortress-DBZ-mod/blob/e9640699c247f1934955991c5aa7743c4a51b4af/raw/scripts/dragonball/dwarf_scouter.lua)).","files":null},{"type":3,"author":{"id":"37fce6b9c167f126ff51843a6c93c2859410cc4b"},"timestamp":1435100522,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNDY2NzU5NQ==","github-url":"https://github.com/DFHack/dfhack/issues/644#issuecomment-114667595"},"message":"Thank you!","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435103502,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMzODQwMjAzOQ=="},"added":["no change required"],"removed":[]},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435103502,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzM4NDAyMDQx"},"status":2}]}