{"version":1,"ops":[{"type":2,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1468553458,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NzIzODczMzM5"},"title":"RST parser for console version of script documentation","was":"RST parser for console version of script documentation"},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1468553468,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDcyMzg3MzQzMw=="},"added":["idea"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1468553468,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDcyMzg3MzQzNA=="},"added":["documentation"],"removed":[]},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1470741181,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIzODUyMzA2NA==","github-url":"https://github.com/DFHack/dfhack/issues/963#issuecomment-238523064"},"message":"Following #972 and associated docs changes, keybinding information should be printed after the in-script docs.  It is appropriate that this be generated at runtime, instead of at build time as for the HTML docs.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1470775885,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIzODY4NzA5OA==","github-url":"https://github.com/DFHack/dfhack/issues/963#issuecomment-238687098"},"message":"Meaning something like `help gui/settings-manager` would include \"bound to Alt-S@title\"? That shouldn't be too hard, although the internal keybinding storage may be hard to search by command.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1470775955,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDc1MDQ0OTgxMA=="},"added":["internal"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1470775955,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDc1MDQ0OTgxMQ=="},"added":["lua"],"removed":[]},{"type":3,"author":{"id":"88b79c31fdfd52952dafcabb16168259734368cc"},"timestamp":1470807402,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIzODc3MDQ0MA==","github-url":"https://github.com/DFHack/dfhack/issues/963#issuecomment-238770440"},"message":"I suggest having one more layer of abstraction. I.e. first have something that parses the rst and the forms the console version. Then we could use the same parser to form df gui help (maybe even interactive and hyperlinked?)","files":null},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1470832237,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIzODg1MjAxOQ==","github-url":"https://github.com/DFHack/dfhack/issues/963#issuecomment-238852019"},"message":"@lethosor - exactly.  The system I've implemented for the HTML looks like\n\n```\nKeybinding:  Alt-S [-\u003e \"command with args\"][ in context fort/whatever]\n```\n\nThe \"with args\" and context sections are only included if the command bound has arguments and/or a context, respectively.  I'd be surprised if the internal storage was set up to make this easy, but it's not impossible?\n\n@warmist - How far do you want to go?  ReStructuredText is designed to be readable 'in the raw', and it's pretty easy to do basic parsing as styles may not overlap (see above).  A GUI could be pretty easy if we just use the same logic as the console but with clickable links.  If you want to include non-script documentation in this system we'll need to use the raw text sources, which are included in the HTML docs.\n\nImproved handling of plugin documentation in general would be really nice - docs are still always duplicated between `docs/Plugins.rst` and the console help, and thus often conflict or get out of date.  Some system to have a single source of truth for these docs would be nice, especially if that allowed Travis to test their existence and certain formatting issues, and then pull the text into the html and plugin at build time.","files":null}]}