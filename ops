{"version":1,"ops":[{"type":1,"author":{"id":"a98b4e9cd2f764e3a3668f0dd831fa8cd0617a7a"},"timestamp":1453427378,"metadata":{"github-id":"MDU6SXNzdWUxMjgwNjM0ODk=","github-url":"https://github.com/DFHack/dfhack/issues/804","origin":"github"},"title":"REQ: When a unit is not selected, 'zone unassign' should work like negated 'zone assign'","message":"**If I'm missing something and this request is redundant, please tell me and I'll delete it ASAP!**\n\nI've encountered several instances where I need to mass unassign animals from a set zone - especially after using 'zone assign' and forgetting a filter! （。々°）\n\nSo it'd be great if there 'zone unassign' applied to your set zone when a unit isn't targeted\n\nIn **awful** pseudocode:\n\n```\nzone unassign:\nif first argument == 'unassign' AND no unit selected AND 'zone set' was run THEN:\n  $TO_REMOVE = all animals assigned to set zone # example pasture contains [SPOT, WHISKERS]\n    # Keep in mind 'zone assign' starts with all animals in area\n  if filter\n    apply to list and redefine # filter \"race CAT\" means list to remove is now just [WHISKERS]\n  for Animal in $TO_REMOVE:\n    unpasture Animal from zone\n\n# pasture now contains just [SPOT]\n```\n\nSomething else that would help is an argument for 'assign' that makes it replace instead of add. For example, say I want to repurpose an pasture exclusively for horses. Without the zone unassign behavior I suggest, I'd have to unassign them all manually or delete/remake the zone. _(not to mention that for me, deleting zones doesn't clear the pasture info somehow -- considering filing a bug report.)_ With the zone unassign behavior I suggested, I'd run something like\n\n```\nzone unassign all\nzone assign all own race HORSE\n```\n\nbut if there was a 'zone assign only' option, then I could just run\n\n```\nzone assign only all own race HORSE\n```\n\nand now the pasture only has horses and the other animals are removed.\n\nI always feel guilty making feature requests -- I'd have tried implementing it myself, but I can't figure out the source code at all. I guess experience with C++ and lua would've helped. （。々°）","files":null}]}