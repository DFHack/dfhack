{"version":1,"ops":[{"type":1,"author":{"id":"3777bd9464a985e5d5f5348b51d9318b5e1c4118"},"timestamp":1477277849,"metadata":{"github-id":"MDU6SXNzdWUxODQ3Mzg3MzA=","github-url":"https://github.com/DFHack/dfhack/issues/1009","origin":"github"},"title":"Linking against system tinyxml seems to cause immediate segfault on 0.43.05-alpha1","message":"I went to upgrade my packages to the 0.43.05 alpha and found that, while things compiled, attempting to launch dfhack immediately segfaulted:\n\n```\n$ dfhack\nSound devices available:\nOpenAL Soft\nPicking OpenAL Soft. If your desired device was missing, make sure you have the appropriate 32-bit libraries installed. If you wanted a different device, configure ~/.openalrc appropriately.\nPerfect OpenAL context attributes GET\nLoading bindings from data/init/interface.txt\nNew window size: 640x300\nFont size: 8x12\nResizing grid to 80x25\nResizing font to 8x12\n\nResetting textures\n/home/bjr/.dwarffortress/dfhack: line 66: 13880 Segmentation fault      (core dumped) setarch i386 -R env LD_PRELOAD=\"$PRELOAD_LIB\" ./libs/Dwarf_Fortress \"$@\"\n```\n\nAfter some trial and error I eventually traced the problem to me setting -DEXTERNAL_TINYXML in the build process. Disabling that flag and using the included tinyxml sources seemed to have solved the issue.\n\nThis is obviously a low-priority issue but I figured I should file a bug. Poking briefly around the source tree it's not immediately clear to me what's changed to cause this. What version of tinyxml does dfhack bundle?","files":null}]}