{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1448054754,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1ODUyODUxNQ==","github-url":"https://github.com/DFHack/dfhack/issues/755#issuecomment-158528515"},"message":"DFHack's lack of access to argc/argv is the main obstacle here, but maybe a simple way to pass arguments to DFHack and have it handle them would be possible - I think parsing them in three different launcher scripts (in two different languages) would be harder to maintain.\n`:lua df.global.save_on_exit=0` should let you quit without saving. That's one of the globals that isn't located automatically, though, so you can't count on it being available in all DF/DFHack versions.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1448054768,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQ3MDg3MzgwMg=="},"added":["idea"],"removed":[]},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1448095076,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1ODYxMzAzMA==","github-url":"https://github.com/DFHack/dfhack/issues/755#issuecomment-158613030"},"message":"I think all that's needed for this functionality is a command, usable at the main menu, to load the most recent save. Here's an example shell script:\n\n```\n./$df_executable\n./dfhack-run \"loadgame\"\n./dfhack-run \"script\\ commands.txt\"\n```\n\nYou can put arbitrary commands in the text file.  Direct passing might be useful to some people, but I think until we hear from someone who actually needs that, `echo $commands \u003e commands.txt \u0026\u0026 ./the_above.sh` will do.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1448112222,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1ODY0MDA3MQ==","github-url":"https://github.com/DFHack/dfhack/issues/755#issuecomment-158640071"},"message":"That'll wait for DF to exit before running dfhack-run. You could run DF in the background, but that would almost certainly cause dfhack-run to run before DF has started.","files":null},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1448112606,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1ODY0MDQ5OQ==","github-url":"https://github.com/DFHack/dfhack/issues/755#issuecomment-158640499"},"message":"Hmm.  I'd still just use init files plus the basic load-game-from-menu script (which I'd love to get), but I can see a potential case for more.","files":null},{"type":3,"author":{"id":"5221f59e75ea9db114593bbdfb180b7354aef9ed"},"timestamp":1449089363,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE2MTQyOTkzMw==","github-url":"https://github.com/DFHack/dfhack/issues/755#issuecomment-161429933"},"message":"If I recall correctly, ui_sidebar_menus contains the full command-line along with a string vector of individual parameters, used for commandline world generation - I conclusively identified it in version 0.23, and in the current version it should be the first 2 fields of the \"unk\" compound at the end (immediately before unk_17c0).\n\nI don't recall exactly _when_ those fields are populated and subsequently checked, however - if any viewscreens are opened (and executed) prior to world generation being started, it might be possible to insert a hook there (to suppress auto-worldgen and later redirect to the loadgame process).","files":null},{"type":3,"author":{"id":"fefd87bd170e69ba989c5932b26d53a6f30e8666"},"timestamp":1450033232,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE2NDI4NzkxMg==","github-url":"https://github.com/DFHack/dfhack/issues/755#issuecomment-164287912"},"message":"Perhaps this should be like how vim works with `+foo bar` running `:foo bar` on the document right after it's loaded? So `./dfhack +script commands.txt` would be equivalent to running `./dfhack` in one shell and then immediately after the game is started, `./dfhack-run \"foo\\ bar\"` in another.","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1457870555,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE5NTk0NjA1NA==","github-url":"https://github.com/DFHack/dfhack/issues/757#issuecomment-195946054"},"message":"Wouldn't it be enough to just periodically check how many eggs there are and forbid the oldest ones if there are too few and they're not already in a job?","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1457871028,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE5NTk0NjY0MQ==","github-url":"https://github.com/DFHack/dfhack/issues/757#issuecomment-195946641"},"message":"@lethosor Does your plugin leak memory for cancelled jobs? Specifically the job_list_link struct.","files":null}]}