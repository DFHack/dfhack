{"version":1,"ops":[{"type":1,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1584214343,"metadata":{"github-id":"MDU6SXNzdWU1ODEzNDA1OTA=","github-url":"https://github.com/DFHack/dfhack/issues/1520","origin":"github"},"title":"gui/advfort breaking due to renamed unit_action fields","message":"Reported on Reddit: https://www.reddit.com/r/dwarffortress/comments/fflu1q/biweekly_df_questions_thread/fkcbzcg/?context=3\n```\nCannot write field unit_action.T_data.job: not found.\nstack traceback:\n[C]: in ?\n[C]: in ?\n[C]: in ?\n[C]: in method 'assign'\nC:\\DwarfFortress\\df_47_04_win/hack/scripts/gui/advfort.lua:259: in global 'add_action'\nC:\\DwarfFortress\\df_47_04_win/hack/scripts/gui/advfort.lua:286: in global 'addJobAction'\nC:\\DwarfFortress\\df_47_04_win/hack/scripts/gui/advfort.lua:389: in function \u003cC:\\DwarfFortress\\df_47_04_win/hack/scripts/gui/advfort.lua:361\u003e\nCannot write field unit_action.T_data.job: not found.\nstack traceback:\n[C]: in ?\n[C]: in ?\n[C]: in ?\n[C]: in method 'assign'\nC:\\DwarfFortress\\df_47_04_win/hack/scripts/gui/advfort.lua:259: in global 'add_action'\nC:\\DwarfFortress\\df_47_04_win/hack/scripts/gui/advfort.lua:286: in global 'addJobAction'\nC:\\DwarfFortress\\df_47_04_win/hack/scripts/gui/advfort.lua:1035: in upvalue 'ContinueJob'\nC:\\DwarfFortress\\df_47_04_win/hack/scripts/gui/advfort.lua:1831: in function \u003cC:\\DwarfFortress\\df_47_04_win/hack/scripts/gui/advfort.lua:1797\u003e\n[C]: in ?\n\n```\n\n`job` was renamed to `Job`, breaking here: https://github.com/DFHack/scripts/blob/95a32a0f1709e17afd927f57675b81effbc42912/gui/advfort.lua#L283\n\nDiscussed on IRC - may be worth renaming these fields back to lowercase to minimize breakage in other scripts (and third-party tools)","files":null}]}