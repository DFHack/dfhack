{"version":1,"ops":[{"type":3,"author":{"id":"d43bbc88f959d3b3a7dc2c667ab022148be6266a"},"timestamp":1591039258,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzNzA1NDA0OA==","github-url":"https://github.com/DFHack/dfhack/issues/1583#issuecomment-637054048"},"message":"Hmmm. Maybe there should be an overload of that method with a second parameter specifying the desired caste","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1591039691,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzNzA1NzI3Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1583#issuecomment-637057272"},"message":"Since this is in the Units module, I'm inclined to agree that it's a bug. Making users pass in (unit, unit.caste) doesn't seem as logical to me. Maybe we could have a separate function that performs the current functionality given a creature raw ID or something similar.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1591039701,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMzOTQ1NTc0MzY="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"7af68b867d7e9be82b927775f5707b31435d423e"},"timestamp":1591040861,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYzNzA2NjIxNw==","github-url":"https://github.com/DFHack/dfhack/issues/1583#issuecomment-637066217"},"message":"I think only current usages are in [plugins/zone.cpp](https://github.com/DFHack/dfhack/blob/2fc7fa7ac2e56bffa5775e33fc3a3a8cafd6f364/plugins/zone.cpp#L1326) and in [scripts/workorder.lua](https://github.com/DFHack/scripts/blob/47d9b3c9390d21ecc49ddaba477b16071884ee87/workorder.lua#L664).\n\nThe `workorder`-script will definitely benefit if this function is changed; I'm no 100% sure about the `zone`-plugin, but probably too.","files":null},{"type":4,"author":{"id":"fefd87bd170e69ba989c5932b26d53a6f30e8666"},"timestamp":1591078745,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzM5NjAzNTE2Mg=="},"status":2}]}