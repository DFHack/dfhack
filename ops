{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1472651392,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI0Mzc2OTk2Nw==","github-url":"https://github.com/DFHack/dfhack/issues/988#issuecomment-243769967"},"message":"So you're effectively proposing blacklisting those phrases from any script docs?","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1472651398,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDc3MzY3MzY0Ng=="},"added":["idea"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1472651398,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDc3MzY3MzY0Nw=="},"added":["documentation"],"removed":[]},{"type":3,"author":{"id":"013c453d589d8f012d01be6d80bd8eb8ae5d8fe2"},"timestamp":1472654889,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI0Mzc4ODMyMQ==","github-url":"https://github.com/DFHack/dfhack/issues/988#issuecomment-243788321"},"message":"Thereâ€™s _bound to_ be false positives.","files":null},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1472813596,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI0NDM0NDk4Nw==","github-url":"https://github.com/DFHack/dfhack/issues/988#issuecomment-244344987"},"message":"Yes, but due to the obvious false-positive issue it should probably be a very restricted blacklist.  Part of the purpose is to have something _in the scripts repo_ that tells people docs don't need to include keybindings, so just banning `keybinding add` commands should do - there's no other reason to use them I can think of, and if something comes up the test can always be modified later.\n\nAs a regexp `\"keybinding add (Ctrl-|)(Shift-|)(Alt-|)[A-Z](@.? | )\"` within the script documentation tokens should work.  I think, I'm not great with regex :/","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1472817587,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI0NDM1NjAxNQ==","github-url":"https://github.com/DFHack/dfhack/issues/988#issuecomment-244356015"},"message":"Ctrl/Shift/Alt don't have to be in that order, so something like `keybinding add (Ctrl-|Shift-|Alt-)*\\w+(@.+)?` should work. (Numbers, F1-F12, and Enter are supported too.)\n\nAnyway, I feel like having a person verifying this would be less error-prone than automatically failing a test. Maybe a warning would work, though (if anyone reads it :) ).\n\nRegarding #972 - that would add keybindings to the script docs as soon as they exist in dfhack.init-example, right? Just want to make sure it wouldn't require people to add anything to scripts they submit here, since that could cause issues if the corresponding dfhack.init-example changes haven't been merged (or thought of) yet.","files":null},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1476949564,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1NTAzMzE0OQ==","github-url":"https://github.com/DFHack/dfhack/issues/988#issuecomment-255033149"},"message":"Coming back to DFHack after a period of hibernation...\n\nThe principle behind this is that people _don't_ read warnings unless the build fails, and we can probably make this happen.  We can tolerate false-negatives (hopefully manual review will catch them), so long as the false-positive rate is low.\n\nYes, the idea of #972 is that scripts have nothing to do with it, and the note gets added automatically based on the contents of `dfhack.init-example`.  Only plugins need to use the directive directly.  In fact, our test should check that scripts aren't using it!  (which would break when things change)","files":null},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1526514391,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTYzMDgzMDkwMQ=="},"status":2},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1526514468,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM4OTcwMDQ2MQ==","github-url":"https://github.com/DFHack/dfhack/issues/988#issuecomment-389700461"},"message":"There were a couple unimplemented keybindings that I just fixed, but I think we can handle this manually in the future by deciding whether to add bindings to the default init file when PRs are made.","files":null}]}