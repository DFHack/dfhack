{"version":1,"ops":[{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1483547861,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDkxMTQzOTEzMQ=="},"added":["64-bit"],"removed":[]},{"type":3,"author":{"id":"8eec94822f0cd94318fe65f78e120bf220e9fbf8"},"timestamp":1483771379,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI3MTA2NzExNA==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-271067114"},"message":"I'm using 5.1.12 for the windows build already. As far as I'm aware, there shoudn't be any breaking changes in 5.2.2","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1489872760,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4NzU3NjQxOA==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-287576418"},"message":"OS X is done as of dfhack/stonesense@1925760b2f611d246d1715a2e3cfb591a02ef00b","files":null},{"type":3,"author":{"id":"ae81ecb873fb0896840b36e2401490533571ae28"},"timestamp":1490155343,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODI5MjUwMQ==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288292501"},"message":"I'm not sure if it helps, but I was able to get stonesense to compile and run on Debian Linux (64-bit). I just did 3 things:\n- Switched stonesense plugin to ON in `plugins/CMakeLists.txt`\n- Copied system liballegro libs to `plugins/stonesense/allegro/lib/`\n- `Make` was stuck looking for `../plugins/stonesense/proto/../../proto/RemoteFortressReader.pb.cc`, but there is no \"proto\" dir in `plugins/stonesense/`. Creating an empty \"proto\" dir fixed it.\n\nThe liballegro that ships with Debian Jessie is version [5.0.10-3](https://packages.debian.org/jessie/liballegro5.0).\nI'll test it on other distros and report back.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1490155603,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODI5MzAyNA==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288293024"},"message":"\u003e Make was stuck looking for ../plugins/stonesense/proto/../../proto/RemoteFortressReader.pb.cc, but there is no \"proto\" dir in plugins/stonesense/. Creating an empty \"proto\" dir fixed it.\n\nInteresting. This hasn't ever happened for me, but looking at CMakeLists.txt and Plugins.cmake, it looks like it should be looking for `plugins/stonesense/proto/../../proto/RemoteFortressReader.proto`. What CMake version are you using?","files":null},{"type":3,"author":{"id":"ae81ecb873fb0896840b36e2401490533571ae28"},"timestamp":1490161952,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODMwNTQxNA==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288305414"},"message":"\u003e What CMake version are you using?\n\nv3.0.2","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1490162315,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODMwNjI0Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288306242"},"message":"Huh, so it's not an issue with 2.x. I guess we should add that folder, then.\n\nAlso, feel free to let me know if you have a working allegro build for Linux that we could use.","files":null},{"type":3,"author":{"id":"ae81ecb873fb0896840b36e2401490533571ae28"},"timestamp":1490164184,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODMxMDQyOQ==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288310429"},"message":"I just copied over the libs from Debian. Should I submit those?\n\nedit: So I tested these libs on other distros with mixed results. liballegro is linked to specific versions of libpng and libjpeg, which differ on some distros. Though it shouldn't be a problem if you include those as well. Here's basically what is needed:\n- liballegro.so.5.0\n- liballegro_ttf.so.5.0\n- liballegro_font.so.5.0\n- liballegro_image.so.5.0\n- liballegro_color.so.5.0\n- liballegro_primitives.so.5.0\n- libpng12.so.0\n- libjpeg.so.62","files":null},{"type":3,"author":{"id":"8eec94822f0cd94318fe65f78e120bf220e9fbf8"},"timestamp":1490167025,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODMxNzQxMA==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288317410"},"message":"If there's a direct link available for pre-compiled binaries that can be\nused directly, it might be better to download from there when generating\nfrom cmake, rather than keeping the binaries on the repo, to save space and\nclutter.\n\nThat's what I did for both of the windows allegro libs, and it works well.\n\nOn Mar 22, 2017 11:59 AM, \"David Seguin\" \u003cnotifications@github.com\u003e wrote:\n\nI just copied over the libs from Debian. Should I submit those?\n\nâ€”\nYou are receiving this because you were assigned.\nReply to this email directly, view it on GitHub\n\u003chttps://github.com/DFHack/dfhack/issues/1056#issuecomment-288310429\u003e, or mute\nthe thread\n\u003chttps://github.com/notifications/unsubscribe-auth/AARm3ZoCF-rPs7wGqbTXAoPLdXGk9iM2ks5roL_bgaJpZM4La0D7\u003e\n.","files":null},{"type":3,"author":{"id":"ae81ecb873fb0896840b36e2401490533571ae28"},"timestamp":1490197721,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODQ0MzEzNg==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288443136"},"message":"\u003e it might be better to download from there when generating from cmake\n\nYou're right, the libs could be downloaded separately. But due to the way linux does package management, they're tucked away in compressed packages. For the [deb package for liballegro](https://packages.debian.org/jessie/liballegro5.0), you would need to download and extract the libs:\n```sh\n$ wget \"http://ftp.us.debian.org/debian/pool/main/a/allegro5/liballegro5.0_5.0.10-3+b1_amd64.deb\"\n$ ar x \"liballegro5.0_5.0.10-3+b1_amd64.deb\"\n$ tar Jxvf \"data.tar.xz\"\n$ cp /usr/lib/liballegro* \u003c/path/to/df/hack/libs/\u003e\n```\n\nAnd the same for [libjpeg](https://packages.debian.org/jessie/libjpeg62-turbo) and [libpng](https://packages.debian.org/jessie/libpng12-0)","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1490198014,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODQ0NDk5Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288444992"},"message":"@JapaMala there aren't binaries stored in the repo currently (although they might still be on the master branch).\n\n@dseguin this is what we currently use: http://dethware.org/dfhack/download/allegro509b.tar.bz2\nI'm not sure if Debian packages more or less than that, but we do need the headers too.","files":null},{"type":3,"author":{"id":"ae81ecb873fb0896840b36e2401490533571ae28"},"timestamp":1490198676,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODQ0ODg3Ng==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288448876"},"message":"I messed up, it should be the \"[-dev](https://packages.debian.org/jessie/liballegro5-dev)\" package (http://ftp.us.debian.org/debian/pool/main/a/allegro5/liballegro5-dev_5.0.10-3+b1_amd64.deb) which does have the libs and the headers. So I should add\n```sh\n$ cp -r /usr/include/ \u003cpath/to/dfhack/include/\u003e\n```\n\nI'll try adding a part to cmake to do all that.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1490199137,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODQ1MTUxMQ==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288451511"},"message":"I'd be wary of downloading directly from a distro package manager, in case that package gets moved or taken down. I suppose we could repackage it (taking out any unnecessary stuff) and upload it to dfhack-bin, though, assuming that doesn't bring any licensing issues into play.","files":null},{"type":3,"author":{"id":"ae81ecb873fb0896840b36e2401490533571ae28"},"timestamp":1490199810,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODQ1NTE0Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288455142"},"message":"It's [zlib apparently](http://metadata.ftp-master.debian.org/changelogs/main/a/allegro5/allegro5_5.0.10-3_copyright). libjpeg is under [3-clause BSD](http://metadata.ftp-master.debian.org/changelogs/main/libj/libjpeg-turbo/libjpeg-turbo_1.3.1-12_copyright) and libpng is [using it's own license](http://metadata.ftp-master.debian.org/changelogs/main/libp/libpng/libpng_1.2.50-2+deb8u3_copyright).\n\nYou're right about the packages maybe being replaced, since the next Debian release is right around the corner. You could get the packages from another distro's repository, but I think they would have the same issues. Should I compile the libs separately?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1490199992,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODQ1NjE2OQ==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288456169"},"message":"If you could put some sort of package/archive together, that would be great. I don't think I'll have much time to work on building things for Linux for a couple days. No need to recompile everything if the precompiled libraries are okay to use, though.","files":null},{"type":3,"author":{"id":"ae81ecb873fb0896840b36e2401490533571ae28"},"timestamp":1490207793,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODQ5Nzc4Mw==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288497783"},"message":"I've packaged all the libs and headers in a similar way to http://dethware.org/dfhack/download/allegro509b.tar.bz2 except the root folder is `allegro_x64/` instead of just `allegro/`. I included libpng and libjpeg, and it builds successfully on the few distros I've tested.\n\nHere's the archive: https://github.com/dseguin/dfhack/tree/bin/bin","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1490321695,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODkxNDM2Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288914362"},"message":"The root folder name doesn't matter - CMake is now set up (or will be, on Linux) to put the contents of the allegro archive in `stonesense/allegro/linux64/` and strip the root folder from the archive.","files":null},{"type":3,"author":{"id":"ae81ecb873fb0896840b36e2401490533571ae28"},"timestamp":1490323421,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODkxODE4MQ==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288918181"},"message":"Wow, you beat me to it: https://github.com/dseguin/stonesense/commit/a4247b6c440a9ab8e2ef99274fd2f61f2a803534\n\nWhere are you putting the binaries?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1490323531,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI4ODkxODQ0MA==","github-url":"https://github.com/DFHack/dfhack/issues/1056#issuecomment-288918440"},"message":"[Here](https://github.com/DFHack/dfhack-bin/releases/tag/0.43.05) currently.","files":null},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1490325242,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTAxMzU4NTI3Mg=="},"status":2}]}