{"version":1,"ops":[{"type":2,"author":{"id":"546bf504b0d228e3c4e4900e1d1990524dc0f5b9"},"timestamp":1428724127,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50Mjc4NjQ3MDE5"},"title":"lua plant_tree_info.body is one-dimensional rather than two","was":"lua plant_tree_info.body is one-dimensional rather than two"},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1429399723,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDk0MjEzMjQ3","github-url":"https://github.com/DFHack/dfhack/issues/597#issuecomment-94213247"},"message":"This is a known limitation of 2-dimensional arrays exposed to Lua (i.e. a pointer to a pointer in C++). I'm not entirely clear on what the correct way of handling this is, but I think it's\n\n``` lua\narray[x].value:_displace(y)\n```","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1429399742,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI4NDU3NzA2Nw=="},"added":["internal"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1429399768,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI4NDU3NzExNg=="},"added":["lua"],"removed":[]},{"type":3,"author":{"id":"546bf504b0d228e3c4e4900e1d1990524dc0f5b9"},"timestamp":1429605861,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDk0NzA1MTE1","github-url":"https://github.com/DFHack/dfhack/issues/597#issuecomment-94705115"},"message":"Thanks for you information! I'm quite new to lua so I didn't ever have known that...","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1429642065,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDk0OTAxNDk0","github-url":"https://github.com/DFHack/dfhack/issues/597#issuecomment-94901494"},"message":"Well, it's a DFHack-specific issue, not something you'd encounter with normal lua tables. It should probably be documented better.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1429642076,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI4NjUxNDE2MQ=="},"added":["documentation"],"removed":[]},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1443166876,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MzE1MDQ5MA==","github-url":"https://github.com/DFHack/dfhack/issues/597#issuecomment-143150490"},"message":"Closable now I've added a note to the Lua API document?","files":null},{"type":3,"author":{"id":"88b79c31fdfd52952dafcabb16168259734368cc"},"timestamp":1443176019,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MzE4MDk5MQ==","github-url":"https://github.com/DFHack/dfhack/issues/597#issuecomment-143180991"},"message":"That is not exactly correct. Some arrays are so called \"flat\" i.e. the array is stored as one dimensional. But it depends on case to case basis and it's largely depends on how Toady One programmed each part.","files":null},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1443183220,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MzIwMDE3MQ==","github-url":"https://github.com/DFHack/dfhack/issues/597#issuecomment-143200171"},"message":"Hmm.  Got a better description I can stick in, even if it's just noting that some are complicated and it's hard to tell in advance?","files":null},{"type":3,"author":{"id":"88b79c31fdfd52952dafcabb16168259734368cc"},"timestamp":1443193568,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MzI0NzE4MQ==","github-url":"https://github.com/DFHack/dfhack/issues/597#issuecomment-143247181"},"message":"It's hard to tell. Usually you need to know why/how it came into being. E.g. there is loads of stuff that is closely packed and small. This includes tree tiles, designations, room extents etc... All of these are very fast if held in flat arrays. Big stuff (like chunks of map) do not benefit that much from being in flat array so they are not. \nUsually the element type indicates that: `stuff[][][]` is 3d array and you can access it by `stuff[x][y][z]` while `stuff[]` where you know that it might be 2d/3d thing is usually flat array.","files":null},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1447026389,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NDU4MzA3NjM5"},"status":2}]}