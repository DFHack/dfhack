{"version":1,"ops":[{"type":1,"author":{"id":"40df2f3ed480522e40c8cce0fd2f22732492a72f"},"timestamp":1473907170,"metadata":{"github-id":"MDU6SXNzdWUxNzcwNzM5ODk=","github-url":"https://github.com/DFHack/dfhack/issues/995","origin":"github"},"title":"scripts/ban-cooking.rb can cause crashes - pull request submitted","message":"DFHack/scripts#6 (link fixed)\n\nSpecific items addressed by an issue:\n1) All ban-able items must be cook-able to be banned.\n2) Checks to ensure that kitchen.exc_types[index] exists before attempting to write to it.\n -- Ran into issues with the original script attempting to ban non-cookable plant items, which lead to mismatches in the length of the kitchen.exc_types versus the others.\n3) Change the index variable in the ban_cooking function from a key lookup to a numerical index value\n7) Fixed mill and thread banning, as they referenced local variable 'm', but didn't set it.\n -- I don't know if there are any cook-able mill or thread plants...","files":null}]}