{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1547231943,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ1MzYxNTI1OA==","github-url":"https://github.com/DFHack/dfhack/issues/1425#issuecomment-453615258"},"message":"This is not enough information for me to reproduce the issue. What platform are you using? What DFHack version (run \"help\" if you don't know)? How much, exactly, is \"too much\"?","files":null},{"type":3,"author":{"id":"fd76d2ea5f20e8ff99ca110152e0081a12560911"},"timestamp":1547233186,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ1MzYyMTM5MQ==","github-url":"https://github.com/DFHack/dfhack/issues/1425#issuecomment-453621391"},"message":"I'm using a mac\nDFHack version 0.44.12-r2 (release) on x86_64\nThe crash was also present in the last version, after the fix I linked to.\nIt happens when using a small terminal window with dfhack. Specifically when the liquids state description rolls over onto a new line like:\n\n [obsidian_floor:range(w333:h33\n:z1):7:f+:s.:pf.]#\n\nThis would be the state after making a large area obsidian floor. If I now tried to switch to water, by tying w; the game will crash.","files":null},{"type":6,"author":{"id":"fd76d2ea5f20e8ff99ca110152e0081a12560911"},"timestamp":1547233186,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDE3MDg2ODkyNw=="},"target":"f3ab00ca12ea73c29a42524c9a052bee5dda14d45cff64950b72b2c673678f5d","message":"I'm using a mac\nDFHack version 0.44.12-r2 (release) on x86_64\nThe crash was also present in the last version, after the fix I linked to.\nIt happens when using a small terminal window with dfhack. Specifically when the liquids state description rolls over onto a new line like:\n\n [obsidian_floor:range(w333:h33\n:z1):7:f+:s.:pf.]#\n\nThis would be the state after making a large area obsidian floor. If I now tried to switch to water, by typing w; the game will crash.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1547237943,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ1MzY0NDk5Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1425#issuecomment-453644992"},"message":"OH, so the prompt is taking up two lines. I don't know if @suokko or I ever tested that - the default prompt is so short that a window smaller than that would be unreasonable.\n\nOut of curiosity, do you remember how versions before 0.44.12 handled that? I don't think we've had any kind of multi-line support, so I'd expect it looked pretty bad.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1547242149,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ1MzY2MjU2OA==","github-url":"https://github.com/DFHack/dfhack/issues/1425#issuecomment-453662568"},"message":"Just checked: 0.44.11-r1 has the crash, so it was likely introduced in #1304. 0.44.05-r2 redraws the prompt after most line editing commands.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1547242195,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwNjk1OTA5MzA="},"added":["bug"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1547242195,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwNjk1OTA5MzQ="},"added":["internal"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1547242195,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwNjk1OTA5MzU="},"added":["crash/hang"],"removed":[]},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1547604881,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ1NDYyNTM3Ng==","github-url":"https://github.com/DFHack/dfhack/issues/1425#issuecomment-454625376"},"message":"Should be fixed in that commit (in the next release).","files":null},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1547604881,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjA3NjI3MDQzNg=="},"status":2}]}