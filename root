{"version":1,"ops":[{"type":1,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1415411875,"metadata":{"github-id":"MDU6SXNzdWU0ODE1MTMyNg==","github-url":"https://github.com/DFHack/dfhack/issues/383","origin":"github"},"title":"Legend viewscreen identifiers seem broken","message":"I've been working on the `exportlegends` script (pull #343), and identified a new field.\n\nIn the main legends mode view, `'viewscreen_legendsst.anon_21` is the selection index for the various options listed on the left (0=histfigs, 1=sites, 2=regions, etc.).   The field in question should be named `sel_idx` to match the corresponding field in the detailed maps screen.\n\nLethosor notes:\n\n\u003e it should be added to `df.viewscreen.xml`. Also, I've been experiencing crashes when accessing `viewscreen_legendst.anon_17`, and changing `anon_21` does not appear to change the selection index.  It's possible that it's a platform-specific problem, but this should probably wait until the alignment of that viewscreen can be fixed.\n\nI have no idea how to fix the alignment of the viewscreen or (correctly) add a name to the maps, so I'm hoping someone can help.","files":null}]}