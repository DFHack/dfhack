{"version":1,"ops":[{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1429529733,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI4NTEyNjk5OA=="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"8b7ae83deafcf2829b2b6662934955ea9814c42c"},"timestamp":1429736212,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDk1MzMzMzA1","github-url":"https://github.com/DFHack/dfhack/issues/601#issuecomment-95333305"},"message":"Okay, I've diagnosed the problem to DFHack not reconising dig jobs anymore. `detect_digging` gets called, but none of the `print`s get executed (ofc when uncommented). When I figure out how to, I'll try to get Windbg to help with this.","files":null},{"type":3,"author":{"id":"8b7ae83deafcf2829b2b6662934955ea9814c42c"},"timestamp":1429736706,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDk1MzM1OTc0","github-url":"https://github.com/DFHack/dfhack/issues/601#issuecomment-95335974"},"message":"Every time the `if(Job::listNewlyCreated(...))` passes, I get the `job_type_class::Digging` match, but there is never a worker. The job then gets completed without being checked for a worker again.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1429738182,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDk1MzQzNjMw","github-url":"https://github.com/DFHack/dfhack/issues/601#issuecomment-95343630"},"message":"It probably has something to do with designation jobs being queued (but hidden from the job list) before assigning a worker. @BenLubar noticed something similar with plant gathering jobs.","files":null},{"type":3,"author":{"id":"8b7ae83deafcf2829b2b6662934955ea9814c42c"},"timestamp":1429897276,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDk2MDA5NTAx","github-url":"https://github.com/DFHack/dfhack/issues/601#issuecomment-96009501"},"message":"I was going to try coding up a fix for the plugin, but I'm probably not the best person to code something efficient and not likely to break everything.\n\nMy idea of the implementation would be to, in a vector (or a set as suggested by angavrilov on IRC) store the digging jobs that were discovered, and then (outside the `listNewlyCreated`) check said vector/set's jobs to see which ones now have a worker.","files":null},{"type":3,"author":{"id":"0541b7dd92e4d9285c31215454cda686ef6b8a4e"},"timestamp":1467933170,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIzMTIzNDY2Nw==","github-url":"https://github.com/DFHack/dfhack/issues/601#issuecomment-231234667"},"message":"I am going to take a look at this one soon and see if I can come up with a fix.","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1474457967,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI0ODU4NjMyNg==","github-url":"https://github.com/DFHack/dfhack/issues/601#issuecomment-248586326"},"message":"It should probably use EventManager's job created event in any case.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1495066550,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDMwMjI2NTY4OA==","github-url":"https://github.com/DFHack/dfhack/issues/601#issuecomment-302265688"},"message":"What about the \"job completed\" event (assuming it works)? It looks like the \"job initiated\" event just checks for newly-created jobs (with IDs higher than the last ID checked), which is basically what `burrows` is doing already.","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1498597625,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDMxMTQ4NTY5OA==","github-url":"https://github.com/DFHack/dfhack/issues/601#issuecomment-311485698"},"message":"Yes, that should work.","files":null}]}