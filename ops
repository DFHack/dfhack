{"version":1,"ops":[{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1584027452,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMxMjMzNjgwNzU="},"added":["crash/hang"],"removed":[]},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1584071958,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU5ODUzNjc2MQ==","github-url":"https://github.com/DFHack/dfhack/issues/1519#issuecomment-598536761"},"message":"More info: \nbuild 200309001, win64: https://buildmaster.lubar.me/applications/3/builds/build?buildId=7282\ndiffs:\nhttps://github.com/DFHack/dfhack/compare/DFHack:b984111...DFHack:3948608\nhttps://github.com/DFHack/df-structures/compare/e2fafc...8ec203\nhttps://github.com/DFHack/scripts/compare/a1ae6a...54cdfb (irrelevant)","files":null},{"type":3,"author":{"id":"6cba4e25b9bf1fe499f4413bdb576893a2eb663c"},"timestamp":1584637321,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwMTMwMDAwOQ==","github-url":"https://github.com/DFHack/dfhack/issues/1519#issuecomment-601300009"},"message":"Looking into this on Win64 build 200316004 in a freshly installed game with arena mode open, the following problem is immediately apparent:\n\n```\n[lua]# printall(df.global.world.arena_spawn)\nrace                     = \u003cvector\u003cint16_t\u003e[1643313815]: 00007FF79B5ACED8\u003e\ncaste                    = \u003cvector\u003cint16_t\u003e[18446744073709192577]: 00007FF79B5ACEF0\u003e\ntype                     = -1009051346\nfilter                   =\nitem_types               = \u003cvector\u003cworld.T_arena_spawn.T_item_types*\u003e[]: 00007FF79B5ACF30\u003e\nunk_vec1                 = \u003cvector\u003cvoid*\u003e[0]: 00007FF79B5AD938\u003e\nunk_vec2                 = \u003cvector\u003cvoid*\u003e[0]: 00007FF79B5AD950\u003e\nunk_vec3                 = \u003cvector\u003cvoid*\u003e[0]: 00007FF79B5AD968\u003e\nequipment                = \u003cworld.T_arena_spawn.T_equipment: 00007FF79B5AD980\u003e\nside                     = 0\ninteraction              = 0\ntame                     = 0\ninteractions             = \u003cvector\u003cinteraction_effect*\u003e[1484564269]: 00007FF79B5ADA38\u003e\ncreature_cnt             = \u003cvector\u003cint32_t\u003e[18446744073704830398]: 00007FF79B5ADA50\u003e\nunk_int1                 = -1027269448\n```","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1584764161,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwMTk5MTkwNg==","github-url":"https://github.com/DFHack/dfhack/issues/1519#issuecomment-601991906"},"message":"Shoot, that's not good. Any idea where the alignment issue is?","files":null},{"type":3,"author":{"id":"6cba4e25b9bf1fe499f4413bdb576893a2eb663c"},"timestamp":1584799979,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwMjA0ODk3Ng==","github-url":"https://github.com/DFHack/dfhack/issues/1519#issuecomment-602048976"},"message":"No idea, but `df.global.world.features` is also messed up, which probably explains #1516.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585186736,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNDE3ODQxMQ==","github-url":"https://github.com/DFHack/dfhack/issues/1519#issuecomment-604178411"},"message":"Just realized your build was from March 16 - would you mind double-checking in a newer build and see if this still occurs on Win64? Thanks","files":null},{"type":3,"author":{"id":"6cba4e25b9bf1fe499f4413bdb576893a2eb663c"},"timestamp":1585261908,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNDY2Njk5Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1519#issuecomment-604666992"},"message":"The alignment issue has been resolved as of build 200325001.\n`features magma` is working well, and preliminary tests with `modtools/create-unit` have not yielded crashes so far.","files":null},{"type":6,"author":{"id":"6cba4e25b9bf1fe499f4413bdb576893a2eb663c"},"timestamp":1585261908,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6MzYwODQ0MzIx"},"target":"b68debb877b74de5c19ed43942ec1eecec99bcaa29c9143c44892064c47f799e","message":"The alignment issue has been resolved as of build 200325001 Win64.\n`features magma` is working well, and preliminary tests with `modtools/create-unit` have not yielded crashes so far.","files":null},{"type":3,"author":{"id":"52aea7b2b365ca5dc2709cd5f04cf6cbe9a09d20"},"timestamp":1585341293,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNTMwMzM4NA==","github-url":"https://github.com/DFHack/dfhack/issues/1519#issuecomment-605303384"},"message":"I checked this on current develop (4fde096) and it is working for me now.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585380804,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNTQwODY3Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1519#issuecomment-605408672"},"message":"Nice! Going by AtomicChicken's build numbers, [this](https://github.com/DFHack/df-structures/compare/2f93b7188d37be889bb5dc83a758dd13b72d6353...500668a7490bae370d3b8ea040d53232cc342a46) is the XML diff, and I suspect https://github.com/DFHack/df-structures/commit/4bfdb764a0235177bae2d0cfedf0533d77924c6b fixed it. (The commit was from before March 16, but wasn't merged in until after.)","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585380824,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMxNzQ3MjA4ODg="},"added":["develop only"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585380837,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDMxNzQ3MjA5NTQ="},"added":["structures"],"removed":[]},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1585380841,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzE3NDcyMDk4Ng=="},"status":2}]}