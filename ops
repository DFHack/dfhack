{"version":1,"ops":[{"type":3,"author":{"id":"7cf2343c4a480a96e96a250a86505180415e6116"},"timestamp":1358263121,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyMjcxNzc5","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12271779"},"message":"Also, why not distribute a tar.gz archive as the linux version?","files":null},{"type":3,"author":{"id":"56cab77f75dad270cd8c0494b61850be69627db7"},"timestamp":1359257957,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyNzQ3MTA3","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12747107"},"message":"Where exactly did you put that export line? I tried to add it at a few different spots and it didn't work.  I am on OSX 10.7.5","files":null},{"type":3,"author":{"id":"7cf2343c4a480a96e96a250a86505180415e6116"},"timestamp":1359291322,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyNzUzNzIz","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12753723"},"message":"I added to `dfhack` script:\n\n```\n\n#!/bin/sh\nPWD=`dirname \"${0}\"`\n#thanks to Iriel for figuring this out\nOSREV=`uname -r | cut -d. -f1`\nif [ \"$OSREV\" -ge 11 ] ; then\n    export DYLD_INSERT_LIBRARIES=./hack/libdfhack.dylib\n    export DYLD_LIBRARY_PATH=${PWD}/hack:${PWD}/libs:${PWD}/stonesense/deplibs\n    export DYLD_FRAMEWORK_PATH=${PWD}/hack:${PWD}/libs\nelse\n    export DYLD_INSERT_LIBRARIES=./hack/libdfhack.dylib\n    export DYLD_FALLBACK_LIBRARY_PATH=${PWD}/hack:${PWD}/libs\n    export DYLD_FALLBACK_FRAMEWORK_PATH=${PWD}/hack:${PWD}/libs\nfi\nexport DYLD_FORCE_FLAT_NAMESPACE=1\ncd \"${PWD}\"; ./dwarfort.exe\n```","files":null},{"type":3,"author":{"id":"56cab77f75dad270cd8c0494b61850be69627db7"},"timestamp":1359340132,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyNzY2NTUw","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12766550"},"message":"Hmm, that doesn't seem to fix it for me.","files":null},{"type":3,"author":{"id":"7cf2343c4a480a96e96a250a86505180415e6116"},"timestamp":1359375850,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyNzc5NTAz","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12779503"},"message":"Check if there are any messages about stonesense in stderr.log. Probably it's not finding some required libraries.","files":null},{"type":3,"author":{"id":"56cab77f75dad270cd8c0494b61850be69627db7"},"timestamp":1359402189,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODAwMTgx","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12800181"},"message":"Here is the error from stderr.log : \n\n```\ndlopen(/Users/ucsf/Downloads/df_osx/hack/plugins/stonesense.plug.so, 2): Library not loaded: @executable_path/stonesense/deplibs/liballegro.5.0.dylib\n  Referenced from: /Users/ucsf/Downloads/df_osx/hack/plugins/stonesense.plug.so\n  Reason: image not found\nCan't load plugin /Users/ucsf/Downloads/df_osx/hack/plugins/stonesense.plug.so\n```\n\nI checked in the deplibs folder and it looks like liballegro.5.0.dylib is a just an alias/shortcut.  Using Spotlight, it doesn't look like there is any file by that name.  Did I forget to get some pre-req for stonesense?","files":null},{"type":3,"author":{"id":"7cf2343c4a480a96e96a250a86505180415e6116"},"timestamp":1359407734,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODA1MTc3","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12805177"},"message":"Did you try to fix the broken links that I mentioned on the first post?\n\nReviewing it, I see that the correct command is `for f in $(find . -type l); do ln -s -f $(readlink $f) $f; done` (I let an `echo` by mistake in my original post).","files":null},{"type":3,"author":{"id":"56cab77f75dad270cd8c0494b61850be69627db7"},"timestamp":1359408315,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODA1Njc3","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12805677"},"message":"I did.  I ran that command (the new one) while in df_osx/ ; stonesense/ ; and deplibs/ but I still get the same error.","files":null},{"type":3,"author":{"id":"ed71b9bc3934f8091f938b742f52472240856193"},"timestamp":1359548986,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODg3NDIz","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12887423"},"message":"I too have problems with this. (OS X 10.8.2)\nI followed the instructions but I still get:\n\n\u003e dlopen(/Users/sharix/Desktop/MasterworkDF-2f/MasterworkDF-02f/hack/plugins/stonesense.plug.so, 2): Library not loaded: @executable_path/stonesense/deplibs/liballegro.5.0.dylib\n\u003e   Referenced from: /Users/sharix/Desktop/MasterworkDF-2f/MasterworkDF-02f/hack/plugins/stonesense.plug.so\n\u003e   Reason: no suitable image found.  Did find:\n\u003e   /usr/local/lib/liballegro.5.0.dylib: mach-o, but wrong architecture\n\u003e Can't load plugin /Users/sharix/Desktop/MasterworkDF-2f/MasterworkDF-02f/hack/plugins/stonesense.plug.so","files":null},{"type":3,"author":{"id":"7cf2343c4a480a96e96a250a86505180415e6116"},"timestamp":1359549425,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODg3NjU4","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12887658"},"message":"Check if the system is searching the `stonesense/deplibs/` path by moving `libs/libfmodex.dylib` into it. If you still can run the game, it's a problem with the links or a missing library.\n\nThe message says it can't find `liballegro.5.0.dylib`. Check if it exists and if it's a valid link to `./liballegro.5.0.7.dylib`. \n\nHere is a screenshot of my `deplibs`:\n\n![Captura de Tela 2013-01-30 a s 10 36 07](https://f.cloud.github.com/assets/1449961/110874/a8988002-6ad9-11e2-8de2-06e87048500a.png)\n\nIf there isn't any difference with yours, then I don't know what else the problem could be.","files":null},{"type":3,"author":{"id":"ed71b9bc3934f8091f938b742f52472240856193"},"timestamp":1359549787,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODg3ODQ5","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12887849"},"message":"I moved the file as suggested. The game runs but stonesense is still not loaded.\nMy deplibs (appears to be the same):\n![deplibs-screenshot](http://i.imgur.com/3hWn59r.png)\n\nedit: if I try `find . -type l | xargs file` again, it still reports broken links as it did before.\n\nedit2: damn, I forgot to remove `echo` from the second step. You should really edit that out.","files":null},{"type":3,"author":{"id":"7cf2343c4a480a96e96a250a86505180415e6116"},"timestamp":1359550221,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODg4MDY3","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12888067"},"message":"@shrx, this may not be the problem, but it seems the links are not pointing to the full library name (`.dylib` missing). \n\nAlso, I can see a lot of `ln -s ...` displayed in your screenshot, which seems that you ran the incorrect command. Just to be sure, once more do `for f in $(find . -type l); do ln -s -f $(readlink $f) $f; done` in `stonesense/deplibs`. There should not be any output from this command.\n\nI'm updating my first post with the correct command.","files":null},{"type":3,"author":{"id":"ed71b9bc3934f8091f938b742f52472240856193"},"timestamp":1359550724,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODg4MzI2","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12888326"},"message":"Yeah I redid all the steps again (with command line unzip too), but links are still not working.\n![links-screenshot](http://i.imgur.com/LQjEOtF.png)\nEdit: I notice a difference in the `ls -l` output. My files do not have a `.dylib` extension as yours do.","files":null},{"type":3,"author":{"id":"7cf2343c4a480a96e96a250a86505180415e6116"},"timestamp":1359551034,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODg4NDcw","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12888470"},"message":"Try to do manually:\n\n```\nln -s -f ./liballegro.5.0.7.dylib ./liballegro.5.0.dylib\nln -s -f ./liballegro_acodec.5.0.7.dylib ./liballegro_acodec.5.0.dylib\nln -s -f ./liballegro_audio.5.0.7.dylib ./liballegro_audio.5.0.dylib\nln -s -f ./liballegro_color.5.0.7.dylib ./liballegro_color.5.0.dylib\nln -s -f ./liballegro_dialog.5.0.7.dylib ./liballegro_dialog.5.0.dylib\nln -s -f ./liballegro_font.5.0.7.dylib ./liballegro_font.5.0.dylib\nln -s -f ./liballegro_image.5.0.7.dylib ./liballegro_image.5.0.dylib\nln -s -f ./liballegro_main.5.0.7.dylib ./liballegro_main.5.0.dylib\nln -s -f ./liballegro_memfile.5.0.7.dylib ./liballegro_memfile.5.0.dylib\nln -s -f ./liballegro_physfs.5.0.7.dylib ./liballegro_physfs.5.0.dylib\nln -s -f ./liballegro_primitives.5.0.7.dylib ./liballegro_primitives.5.0.dylib\nln -s -f ./liballegro_ttf.5.0.7.dylib ./liballegro_ttf.5.0.dylib\nln -s -f ./libfreetype.6.dylib ./libfreetype.dylib\n```","files":null},{"type":3,"author":{"id":"ed71b9bc3934f8091f938b742f52472240856193"},"timestamp":1359551204,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODg4NTc4","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12888578"},"message":"Yes, this worked. Thanks for your help. Seems that the command `for f in $(find . -type l); do ln -s -f $(readlink $f) $f; done` does not append the .dylib extensions and this caused problems.","files":null},{"type":3,"author":{"id":"7cf2343c4a480a96e96a250a86505180415e6116"},"timestamp":1359551304,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEyODg4NjM2","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-12888636"},"message":"Nice. I don't know why the `for f...` worked for me, but I'll remove it from my first post.","files":null},{"type":3,"author":{"id":"9465c02d82346a84ec1760914e8570ee508904ec"},"timestamp":1361908243,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE0MTM1NzU1","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-14135755"},"message":"following ogoid's instructions in the first post on this issue resolved this problem for me.","files":null},{"type":3,"author":{"id":"4f2823b111a40d19603a11dc9e0f3c589bea0f03"},"timestamp":1366821468,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE2OTQ2MTY3","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-16946167"},"message":"Is this still a problem in the current release?","files":null},{"type":3,"author":{"id":"56cab77f75dad270cd8c0494b61850be69627db7"},"timestamp":1366858805,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE2OTg2MTc2","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-16986176"},"message":"It looks like I am getting a different error now:\n\n[DFHack]# /Users/ucsf/Downloads/df_osx 2/dfhack: line 14: 65373 Abort trap: 6           ./dwarfort.exe\n  logout\n\n[Process completed]","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1370198787,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE4ODExNDA1","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-18811405"},"message":"I'm getting a different error when running stonesense (although it loads fine):\n`Cannot load image: stonesense/SSJobIcons.png`\n\nI managed to get around this by making a copy of SSStatusIcons.png and naming it SSJobIcons.png, but have been unable to locate this file in the Windows version of v0.34.11r3, or in the [repo](https://github.com/search?l=\u0026q=SSJobIcons.png\u0026ref=advsearch\u0026type=Code).","files":null},{"type":3,"author":{"id":"56cab77f75dad270cd8c0494b61850be69627db7"},"timestamp":1370200586,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE4ODExOTE3","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-18811917"},"message":"Lethosor, you should make a new issue for your problem as this thread is different than your problem.","files":null},{"type":5,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417352511,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwMDI1MjI4OA=="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417352584,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0OTg0NjIw","github-url":"https://github.com/DFHack/dfhack/issues/180#issuecomment-64984620"},"message":"If this is still an issue it should be re-opened and referenced [here](https://github.com/DFHack/stonesense).","files":null},{"type":4,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417352584,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjAwMjUyMzkx"},"status":2},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1572663357,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI3NjQ4OTcyMTg="},"added":["os-specific"],"removed":[]}]}