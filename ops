{"version":1,"ops":[{"type":3,"author":{"id":"471c54cb29afa742cb830eaa2b1da5c050d22461"},"timestamp":1408967140,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUzMjU0MDc0","github-url":"https://github.com/DFHack/dfhack/issues/274#issuecomment-53254074"},"message":"dfhack uses lua 5.2 API which is not compatible with 5.1 api. it should be possible to port it back to 5.1 without major effort. however, this will likely require a sizable amount of C and Lua knowledge.","files":null},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1417233145,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0OTQwNTAx","github-url":"https://github.com/DFHack/dfhack/issues/274#issuecomment-64940501"},"message":"I'm not sure how much this would actually help speed things up, since anything that needs to run fast tends to be written as a C++ plugin already.  I just can't imagine that the marginal compute-tiem increase would be worth the effort which could go to other projects.","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417239462,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0OTQyNDEx","github-url":"https://github.com/DFHack/dfhack/issues/274#issuecomment-64942411"},"message":"It's not a big priority but it would be nice at some point. The problem is that the causation goes both ways: people don't write things as scripts because scripts are slow. The faster scripts go the more things people who know Lua but not C++ can do.\n\nThat being said it's unlikely I'll attempt it any time soon unless there's an easy way of implementing it.","files":null},{"type":5,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417351329,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwMDI1MDc1MA=="},"added":["idea"],"removed":[]},{"type":5,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417351331,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwMDI1MDc1Mg=="},"added":["internal"],"removed":[]},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417389839,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY1MDA1NDI1","github-url":"https://github.com/DFHack/dfhack/issues/274#issuecomment-65005425"},"message":"It looks like the main difference between Lua 5.2 and Lua 5.1 is that Lua 5.2 changes the way it does environments (global variable scope management / etc) slightly differently. Backporting to Lua 5.1 should be doable. Any features we lose from downgrading would be gained back with the increased run speed because of the efficient JIT compiler.","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417390501,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY1MDA1ODAw","github-url":"https://github.com/DFHack/dfhack/issues/274#issuecomment-65005800"},"message":"Even better! It looks like LuaJIT [adds back](http://luajit.org/extensions.html) a lot of the features from Lua 5.2, including the improved load function.","files":null},{"type":3,"author":{"id":"88b79c31fdfd52952dafcabb16168259734368cc"},"timestamp":1417532877,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY1MjQ0MTY3","github-url":"https://github.com/DFHack/dfhack/issues/274#issuecomment-65244167"},"message":"One drawback i could see is that Lua 5.3 adds some more stuff and I remember reading that LuaJIT does not intend to keep up with development. On the other and there is very nice FFI (calling C functions like native code). Also having a JIT in there we could in theory could do so much more: e.g. vmethod binding from lua?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1495208005,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDMwMjczNTY5Ng==","github-url":"https://github.com/DFHack/dfhack/issues/274#issuecomment-302735696"},"message":"We're relying on some Lua 5.3 features now, so I don't think this would work. Feel free to comment/reopen if that's not the case, though.","files":null},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1495208005,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MTA4OTc0NDEzMg=="},"status":2}]}