{"version":1,"ops":[{"type":1,"author":{"id":"794b657c67c0ffe078047e2589466dffa44a1966"},"timestamp":1476812863,"metadata":{"github-id":"MDU6SXNzdWUxODM3NTY3MDA=","github-url":"https://github.com/DFHack/dfhack/issues/1005","origin":"github"},"title":"Exportlegends info fails on legends_plus xml","message":"DFHack alpha 43.05 64bit. Windows 7 version of Dwarf Fortress. \n\nThe following is printed in the console after typing \"exportlegends info\" while in the legends mode for a world:\n\n`[DFHack]# exportlegends info`\n`Exporting:  World map/gen info`\n`Exporting:  Legends xml`\n`Exporting:  Extra legends_plus xml`\n`...Dwarf Fortress\\Dorf 43.05/hack/scripts/exportlegends.lua:184: Cannot invoke f\nield (global).TranslateName(): C++ exception: bad allocation.\nstack traceback:`\n    `[C]: in function 'dfhack.TranslateName'`\n`...Dwarf Fortress\\Dorf 43.05/hack/scripts/exportlegends.lua:184: in glob\nal 'export_more_legends_xml'`\n`...Dwarf Fortress\\Dorf 43.05/hack/scripts/exportlegends.lua:765: in glob\nal 'export_legends_info'`\n`...Dwarf Fortress\\Dorf 43.05/hack/scripts/exportlegends.lua:822: in loca\nl 'f'`\n`D:\\Games\\Dwarf Fortress\\Dorf 43.05\\hack\\lua\\dfhack.lua:562: in function\n'dfhack.run_script_with_env'`\n`(...tail calls...)`\n\nAm probably being dense but can't find a log file for dfhack to attach.","files":null}]}