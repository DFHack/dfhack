{"version":1,"ops":[{"type":3,"author":{"id":"70e0249ae71b062f7bcf42695feebbbd54abfaf7"},"timestamp":1435299778,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNTUzOTA5NQ==","github-url":"https://github.com/DFHack/dfhack/issues/649#issuecomment-115539095"},"message":"Note: I tried to use the prebuilt and updated `liballegro.5.0.11` files that @lethosor suggested, downloaded from [here](https://www.mediafire.com/?nacwjdazayz9fz7), but those weren't built for my arch, and I'm not sure how to go about building them:\n\nOutput:\n\n```\nCan't load plugin .../df_osx/hack/plugins/stonesense.plug.dylib\n```\n\n`stderr.log`:\n\n```\ndlopen(.../df_osx/hack/plugins/stonesense.plug.dylib, 6): Library not loaded: /Volumes/MacintoshHD/brew-mavericks/lib/libfreetype.6.dylib\n  Referenced from: .../df_osx/./hack/libs/liballegro_ttf.5.0.dylib\n  Reason: no suitable image found.  Did find:\n    /usr/local/lib/libfreetype.6.dylib: mach-o, but wrong architecture\nCan't load plugin .../df_osx/hack/plugins/stonesense.plug.dylib\n```","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435319184,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNTY1NDE5Ng==","github-url":"https://github.com/DFHack/dfhack/issues/649#issuecomment-115654196"},"message":"The allegro libraries should be fine - what's missing is a 32-bit version of libfreetype. Try updating the SDL_ttf library from [here](https://www.libsdl.org/projects/SDL_ttf/release-1.2.html).","files":null},{"type":3,"author":{"id":"70e0249ae71b062f7bcf42695feebbbd54abfaf7"},"timestamp":1435367639,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNTkzMTE2Mg==","github-url":"https://github.com/DFHack/dfhack/issues/649#issuecomment-115931162"},"message":"@lethosor hm, I'm averse to manipulating /Library/Frameworks; is there a pre-built `SDL_ttf` that I can drop into `df_osx/hack/libs/` instead? Or, alternatively, a way to use a Homebrew-built SDL? (I've got `libSDL_ttf-2.0.0.dylib` in `/usr/local/Cellar/sdl_ttf/2.0.11/lib`, but I'm not too familiar with how dynamic linking works, and how to get DFhack to _use_ that.)","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435372174,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNTkzNzg5OA==","github-url":"https://github.com/DFHack/dfhack/issues/649#issuecomment-115937898"},"message":"\u003e is there a pre-built SDL_ttf that I can drop into df_osx/hack/libs/ instead?\n\nThat's what I meant (download [SDL_ttf-2.0.11.dmg](https://www.libsdl.org/projects/SDL_ttf/release/SDL_ttf-2.0.11.dmg) and drop SDL_ttf.framework into DF/libs/ or DF/hack/ - DF/hack/libs/ probably won't work, unless you modify the `dfhack` script).\n\nI think ~/Library/Frameworks would also work.","files":null},{"type":3,"author":{"id":"70e0249ae71b062f7bcf42695feebbbd54abfaf7"},"timestamp":1435775859,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNzc5MTE2OQ==","github-url":"https://github.com/DFHack/dfhack/issues/649#issuecomment-117791169"},"message":"Do I need to remove `liballegro_ttf`? It's still not working; same error:\n\n```\ndlopen(/opt/homebrew-cask/Caskroom/dwarf-fortress/0.40.24/df_osx/hack/plugins/stonesense.plug.dylib, 6): Library not loaded: /Volumes/MacintoshHD/brew-mavericks/lib/libfreetype.6.dylib\n  Referenced from: /opt/homebrew-cask/Caskroom/dwarf-fortress/0.40.24/df_osx/./hack/libs/liballegro_ttf.5.0.dylib\n  Reason: no suitable image found.  Did find:\n/usr/local/lib/libfreetype.6.dylib: mach-o, but wrong architecture\nCan't load plugin /opt/homebrew-cask/Caskroom/dwarf-fortress/0.40.24/df_osx/hack/plugins/stonesense.plug.dylib\n```","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1435776696,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNzc5NDEyNg==","github-url":"https://github.com/DFHack/dfhack/issues/649#issuecomment-117794126"},"message":"Removing liballegro_ttf will break Stonesense. Did you update SDL_ttf? If you did and it still doesn't work, you could try adding `libs/SDL_ttf.framework/Frameworks` to DYLD_LIBRARY_PATH in the `df` and `dfhack` scripts.","files":null}]}