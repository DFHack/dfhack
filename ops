{"version":1,"ops":[{"type":5,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417350525,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwMDI0OTQ4NA=="},"added":["internal"],"removed":[]},{"type":5,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417350526,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwMDI0OTQ4NQ=="},"added":["idea"],"removed":[]},{"type":3,"author":{"id":"702387a998b76771bd3f3474fa84eeb77622a5db"},"timestamp":1417588607,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY1MzYyMTU5","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-65362159"},"message":"Why isn't persistent data saved to a new file in the save directory?","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417623081,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY1NDM1ODcx","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-65435871"},"message":"Hitfigs are easier.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1418583459,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY2OTI0NjU1","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-66924655"},"message":"I believe one of the reasons for using histfigs is that no additional disk I/O is necessary (values are modified in memory and saved to disk along with the rest of the world), making a large number of modifications much faster.\nIf you're interested in JSON, I ran across https://github.com/hjiang/jsonxx, which seems like it would be easy to integrate (and it generates human-readable files). It has some issues with storing floating-point numbers, but so would the current system (which only supports integers and strings).","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1418668677,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY3MDQyMTQ2","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-67042146"},"message":"We already have protobuf included somewhere. I'll probably just use that. Best not to use too many different independent systems.","files":null},{"type":3,"author":{"id":"e6d3dafe479ac56fd29593e66f6fd7f028b46105"},"timestamp":1424477118,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc1MzQyMjQ0","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-75342244"},"message":"It's been a couple months since this was posted in, but I'm very, very against file-saving; the memory overhead is _extremely_ worth not having to read files. Roses' class system using persist-table already causes 300 ms stutters every time it checks a unit's experience in Fortbent with the current system--if it were to check the hard drive, that number could be significantly higher.\n\nOn the other hand, I doubt anyone will ever get to as extreme a use case as me.","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1424552096,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc1MzkyNDAz","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-75392403"},"message":"It's a lot slower in Lua than in C++ and this would be on the C++ side. Furthermore, Roses' system requires a lot of parsing of text, which is probably the slowest part, not the file I/O.","files":null},{"type":3,"author":{"id":"e6d3dafe479ac56fd29593e66f6fd7f028b46105"},"timestamp":1424564304,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc1NDA0NTUw","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-75404550"},"message":"I'm saying that it's slow even without file i/o, which could be far slower.","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1424565924,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc1NDA4MzA4","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-75408308"},"message":"Neither system uses file I/O on queries. That's only done when the game saves. I'm surprised it's that slow in the current system just for queries. That should definitely improve with the new system because it will have to just traverse a few pointers instead of doing a few iterative binary searches through historical figures.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1461361055,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIxMzU5NTk5Ng==","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-213595996"},"message":"We talked about holding off on the huge JSON rewrite stuff until after r1 on IRC (if I'm remembering that correctly).","files":null},{"type":3,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1461401521,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIxMzY5NTA1Ng==","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-213695056"},"message":"Yes.","files":null},{"type":3,"author":{"id":"fefd87bd170e69ba989c5932b26d53a6f30e8666"},"timestamp":1580233363,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU3OTM3MDI4OQ==","github-url":"https://github.com/DFHack/dfhack/issues/414#issuecomment-579370289"},"message":"Fixed as of 0.44.12-r3","files":null},{"type":4,"author":{"id":"fefd87bd170e69ba989c5932b26d53a6f30e8666"},"timestamp":1580233363,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50Mjk4NjYwMTAwMQ=="},"status":2}]}