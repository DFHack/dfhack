{"version":1,"ops":[{"type":1,"author":{"id":"ebc17669074275597ceba81dcd0fbbfe563b85f4"},"timestamp":1468222652,"metadata":{"github-id":"MDU6SXNzdWUxNjQ3NzY4OTQ=","github-url":"https://github.com/DFHack/dfhack/issues/960","origin":"github"},"title":"negative thoughts summary","message":"I have recently been thinking about a tool that would display a summary of negative emotions, i.e. those that increase stress. This way, you can easily find out what your fortress is generally lacking and improve overall happiness by satisfying many at once.\n### Example Output\n\nI think its enough if this gets printed directly to the console, like prospect does, there does not necessarily need to be a more involved user interface.\n\n```\n...\n90% (180) ...\n95% (190) annoyed after eating without a table.\n100% (200) annoyed after having a drink without using a goblet.\n```\n\nThe output shows the percentage of the population as well as the exact amount and the negative emotion. They are sorted in increasing order.\n### Pseudo Code\n\n```\nbadEmotions = foreach citizen get emotions filter bad ones\nforeach badEmotion.text dropPronoun | sort | uniq -c\n```\n### Other Thoughts\n- maybe add some command line options like `bad-emotions -10` to show only the highest ten emotions instead of all by default\n- could also be done for needs, but I think that emotions and needs should be output separately","files":null}]}