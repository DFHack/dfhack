{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1411155126,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU2MjIzODM4","github-url":"https://github.com/DFHack/dfhack/issues/205#issuecomment-56223838"},"message":"Is this still a problem in 0.40.xx?","files":null},{"type":3,"author":{"id":"1d743145e739364f08dd7d3a286c26de3406a9db"},"timestamp":1416760059,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0MTIzNjgy","github-url":"https://github.com/DFHack/dfhack/issues/205#issuecomment-64123682"},"message":"Ok, I tested this a bit.\nUsing the spatter reactions that comes with dfhack the splatter plugin works both in 34.11-r5 and 40.16-r1. Then I tested again the latest masterwork raws with 34.11-r5 and the crash is there. So it's either some buggy/maformed reaction in the raws that kills the plugin, or else it just can't handle the crazy number of reactions present in MW. Trying to find an offending reaction yielded no results. :(\n\nend of stderr.log after crash:  \nc0261000-c0262000        4K rw-/rw-        NONE      -    DEFAUobjc[49389]: Object 0xfd27b70 of class __NSArrayM autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0x258a900 of class __NSCFNumber autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0xfd27d20 of class __NSCFDictionary autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0xf858180 of class __NSCFString autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0x2589030 of class __NSCFNumber autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0xfd27be0 of class __NSCFDictionary autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0x32b5660 of class __NSCFString autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0xfdca400 of class __NSWindowData autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0xfdc9ec0 of class SDL_QuartzWindow autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0xf8620a0 of class __NSCFNumber autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0x32b3dd0 of class NSConcreteValue autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0x259f8f0 of class __NSCFNumber autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0x25ab480 of class NSConcreteValue autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug\nobjc[49389]: Object 0x25ab450 of class __NSCFDictionary autoreleased with no pool in place - just leaking - break on objc_autoreleaseNoPool() to debug","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1417148314,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0ODUyODQy","github-url":"https://github.com/DFHack/dfhack/issues/205#issuecomment-64852842"},"message":"70a2ab91417281a39df2d26ab2ca2d654e4b58ff may have fixed this.","files":null},{"type":3,"author":{"id":"1d743145e739364f08dd7d3a286c26de3406a9db"},"timestamp":1417159013,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0ODYyMjU0","github-url":"https://github.com/DFHack/dfhack/issues/205#issuecomment-64862254"},"message":"Nope, 70a2ab9 is part of dfhack 34.11-r5.","files":null},{"type":3,"author":{"id":"1d743145e739364f08dd7d3a286c26de3406a9db"},"timestamp":1417174423,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY0ODg0ODI1","github-url":"https://github.com/DFHack/dfhack/issues/205#issuecomment-64884825"},"message":"Further testing:  \nRemoved all SPATTER_ADD reactions, then removed the string 'spatter' from all raws, even the language txt-s, basically anything that could trigger the plugin. I don't get the registering_hooks message any more, but the game still crashes with the spatter_plugin installed with the same 'leaking' message in stderr.log.  \nThis is weird.","files":null},{"type":5,"author":{"id":"be523fe0f95fc478bda36c722e6f106f8f7a41b5"},"timestamp":1417352025,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIwMDI1MTcxNA=="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1420928292,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDY5NDc0NDUz","github-url":"https://github.com/DFHack/dfhack/issues/205#issuecomment-69474453"},"message":"Can you provide a series of steps that reproduces this? I certainly haven't seen this when creating new worlds, so I'm unsure how to make the problem occur.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1422837938,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDcyMzk0MTQ5","github-url":"https://github.com/DFHack/dfhack/issues/205#issuecomment-72394149"},"message":"I'm suddenly getting an add-spatter crash with http://dffd.bay12games.com/file.php?id=9468 or http://dffd.bay12games.com/file.php?id=9469 in DFHack 0.40.24-r2 (the save has never had problems in earlier versions and doesn't appear to use any SPATTER_ADD reactions).","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1422841956,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDcyMzk3MTk1","github-url":"https://github.com/DFHack/dfhack/issues/205#issuecomment-72397195"},"message":"It seems to apply to any save, actually.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1422842115,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIyODI0MzA3Mw=="},"added":["crash/hang"],"removed":[]},{"type":3,"author":{"id":"1d743145e739364f08dd7d3a286c26de3406a9db"},"timestamp":1422871972,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDcyNDMyNjQy","github-url":"https://github.com/DFHack/dfhack/issues/205#issuecomment-72432642"},"message":"Fix confirmed with 34.11-r5 and Masterwork 6.2 raws. Thx!","files":null},{"type":4,"author":{"id":"1d743145e739364f08dd7d3a286c26de3406a9db"},"timestamp":1422871972,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjI4MzkxMDQw"},"status":2},{"type":2,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1423627182,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjMzNzEyNTc0"},"title":"add-spatter plugin crashes the game on OS X","was":"add-spatter plugin crashes the game on OS X"},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1468525887,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDcyMzQ5ODgzMw=="},"added":["has save"],"removed":[]}]}