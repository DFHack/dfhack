{"version":1,"ops":[{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1426317695,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwMDYwMjg2","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-80060286"},"message":"What version of DF and DFHack are you using?\n\nI'm not an OSX person, but this looks like version incompatibilities.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1426390736,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwODIzMTEy","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-80823112"},"message":"What is contained in stderr.log? Have you made any modifications to the DF executable?","files":null},{"type":3,"author":{"id":"3fbc0cf93207f740c5d45bd55b185c44a66c5276"},"timestamp":1426393920,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwODQ2NTI4","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-80846528"},"message":"2015-03-14 15:58:12.785 dwarfort.exe[845:9668] Warning once: This application, or a library it uses, is using NSQuickDrawView, which has been deprecated. Apps should cease use of QuickDraw and move to Quartz.\nMar 14 15:58:12  dwarfort.exe[845] \u003cError\u003e: The function ‘CGSFlushWindow’ is obsolete and will be removed in an upcoming update. Unfortunately, this application, or a library it uses, is using this obsolete function, and is thereby contributing to an overall degradation of system performance. Please use CGSFlushWindowContentRegion instead.\ndfhack: saving real SDL functions\ndfhack: saved real SDL functions\ndfhack: hooking successful\nIdentifying DF version.\nLoading hack/symbols.xml ... OK\nDummy symbol table entry: start_dwarf_count\nLoaded 3 DF symbol tables.\nUnable to retrieve version information.\nFile: /Applications/Void/Favourites/Dwarf Fortress/dwarfort.exe\nMD5: c6f255222b6f1ca8adcf288af1ad32ed\nworking dir: /Applications/Void/Favourites/Dwarf Fortress\nlength:33117332\n1KB hexdump follows:\n\nstderr.log above.\n\nHaven't made any modifications that I know of.\nLatest DFHack version as well as latest DF version.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1426417300,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwOTU3Mjcy","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-80957272"},"message":"That md5 doesn't match any of the OS X executables in the 0.40 series, so the executable has probably been modified. You could try redownloading it from http://www.bay12games.com/dwarves/df_40_24_osx.tar.bz2","files":null},{"type":3,"author":{"id":"3fbc0cf93207f740c5d45bd55b185c44a66c5276"},"timestamp":1426420935,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwOTgzNTEw","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-80983510"},"message":"Do I have to reinstall the whole game if I redownload that, or just replace the executable?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1426424139,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgwOTk4MjA5","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-80998209"},"message":"Replacing the executable should work. You could also create a fresh installation and copy over your previous configuration files and saves.","files":null},{"type":3,"author":{"id":"3fbc0cf93207f740c5d45bd55b185c44a66c5276"},"timestamp":1426482830,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgxNDIwODc4","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-81420878"},"message":"I can launch DFHack, but \"stonesense\" won't work. It gives:\n\n `\"[DFHack]# /dfhack: line 15:  3721 Segmentation fault: 11  DYLD_INSERT_LIBRARIES=./hack/libdfhack.dylib ./dwarfort.exe \"$@\"\"`\n\nstderr.log is [here](http://pastebin.com/jBmjQQtq).","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1426807886,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDgzODA0MTEz","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-83804113"},"message":"Neither that nor the contents of stderr.log are particularly helpful, unfortunately (they show that DF crashed and that stonesense was invoked, respectively). Are you using PRINT_MODE:2D? Does it occur with a fresh installation? (No need to delete your current installation - just unpack DF and install DFHack normally.)","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1426807895,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1OTk2MDE5OQ=="},"added":["crash/hang"],"removed":[]},{"type":3,"author":{"id":"3fbc0cf93207f740c5d45bd55b185c44a66c5276"},"timestamp":1426988355,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg0NDkxMDc1","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-84491075"},"message":"Just tried with fresh installation, and it still happens. If you mean [PRINT_MODE:2D] in my init.txt, [here](http://pastebin.com/5sT64iKb) it is. It appears that I'm using PRINT_MODE:2D but I'm not sure.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1427565941,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg3Mjc0ODQ5","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-87274849"},"message":"Could you try replacing SDL_ttf.framework in the libs folder with the one from http://www.libsdl.org/projects/SDL_ttf/release/SDL_ttf-2.0.11.dmg?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1427751530,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg3ODM5NzUw","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-87839750"},"message":"If this still occurs in DFHack r3, can you try launching DFHack with `DFHACK_LOG_MEM_RANGES=1 ./dfhack` and posting the contents of stderr.log somewhere (e.g. Gist)?","files":null},{"type":3,"author":{"id":"3fbc0cf93207f740c5d45bd55b185c44a66c5276"},"timestamp":1427926764,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjUxNzA4","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88651708"},"message":"Here's the gist after running dfhack with that command (\"DFHACK_LOG\", etc). I also replaced the framework with the one you gave me the link to. It still gives the exact error.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1427927190,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjUyODEx","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88652811"},"message":"@danaris perhaps this is an issue with the allegro libraries? Have you encountered this on OS X 10.10?","files":null},{"type":3,"author":{"id":"3fbc0cf93207f740c5d45bd55b185c44a66c5276"},"timestamp":1427928176,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjU1MDI5","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88655029"},"message":"@lethosor, is my issue related to #281? It seems to have the same DYLD_INSERT_LIBRARIES error message.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1427928824,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjU2NDI4","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88656428"},"message":"\"file too short\"?","files":null},{"type":3,"author":{"id":"3fbc0cf93207f740c5d45bd55b185c44a66c5276"},"timestamp":1427928977,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjU2ODc0","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88656874"},"message":"@lethosor, exactly, I'm not getting that error. Strange though.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1427929052,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjU3MjM0","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88657234"},"message":"What error are you getting?","files":null},{"type":3,"author":{"id":"3fbc0cf93207f740c5d45bd55b185c44a66c5276"},"timestamp":1427929206,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjU3Njg0","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88657684"},"message":"Similar to the picture in my first reply.\n\n[DFHack]# stonesense\nStonesense launched\nUsing allegro version 5.0.9 r1\n[DFHack]# ./dfhack: line 15: 13394 Segmentation fault: 11  DYLD_INSERT_LIBRARIES=./hack/libdfhack.dylib ./dwarfort.exe \"$@\"","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1427929863,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjU5NzQ5","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88659749"},"message":"Oh, the \"DYLD_INSERT_LIBRARIES\" part is the line in the `dfhack` script where the error occurred (i.e. the line where DF was launched). It's probably not related to #281.\nI suppose you could try another print mode (2DSW or 2DASYNC, or possibly TEXT, which would require using `dfhack-run` to run commands), but I suspect the problem is with allegro. I haven't heard of problems with allegro on 10.10, though, which is strange.","files":null},{"type":3,"author":{"id":"3fbc0cf93207f740c5d45bd55b185c44a66c5276"},"timestamp":1427930022,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjYwNTM1","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88660535"},"message":"So how would I go about using another print mode?","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1427932535,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDg4NjY4Mzky","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-88668392"},"message":"Edit the PRINT_MODE setting in data/init/init.txt (or in a launcher if you're using one).\nI can't guarantee that this will work, however. I'll take a look at compiling allegro myself when I get a chance.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1431818781,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDEwMjcxMTM3Mg==","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-102711372"},"message":"Can you try copying the allegro libraries from [here](https://www.mediafire.com/?nacwjdazayz9fz7) into hack/libs in your DF folder?\nEdit: Fearis on IRC reports that this works on 10.10. It also works for me on 10.9, but I'm unsure about earlier versions of OS X.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1434071098,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExMTMxODQzNQ==","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-111318435"},"message":"I'm going to close this since this is at best a Stonesense issue. If updating allegro to 5.0.11 (see link above) doesn't fix your problem, it would be best to open an issue in the DFHack/stonesense repo instead.","files":null},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1434071099,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzI5MDc2OTMz"},"status":2},{"type":3,"author":{"id":"18f4495d6d8728a717d5bd2dfa39b04f21a29f6a"},"timestamp":1435723880,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDExNzQyOTU2OA==","github-url":"https://github.com/DFHack/dfhack/issues/576#issuecomment-117429568"},"message":"Had the same problem. I can confirm stonesense works on 10.10 after replacing the dylibs in hack/lib.","files":null}]}