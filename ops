{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1477148911,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1NTUzMzcxMQ==","github-url":"https://github.com/DFHack/dfhack/issues/1008#issuecomment-255533711"},"message":"It looks like DFHack can't find a protobuf symbol. Can you check that libprotobuf-lite is present in the hack folder in your DF folder, and that libdfhack is linking to it?","files":null},{"type":2,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1477154447,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50ODMyODQ4MzUx"},"title":"0.43.05-alpha1 libdfhack.so symbol lookup error (x64)","was":"0.43.05-alpha1 libdfhack.so symbol lookup error (x64)"},{"type":3,"author":{"id":"a76319f4240b27ef7c5068b50fc7f2b42c6f44cd"},"timestamp":1477155485,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1NTU0MDEyMA==","github-url":"https://github.com/DFHack/dfhack/issues/1008#issuecomment-255540120"},"message":"libprotobuf-lite is within the hack folder. However, according to ldd, libdfhack is linking to the system libprotobuf-lite in /usr/lib. I changed the line 62 of ./dfhack from\n\n`export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:\"./hack/libs\":\"./hack\"`\n\nto\n\n`export LD_LIBRARY_PATH=\"./hack/libs\":\"./hack\":$LD_LIBRARY_PATH`\n\nWhich fixed the problem. I would recommend considering changing this upstream, as it will probably save a lot of people a lot of confusion (for instance, this would stop dfhack from binding to the system liblua or libruby), and is probably a sensible default. However, I don't know enough about DFHack to say for sure, and it's ultimately your decision.","files":null},{"type":4,"author":{"id":"a76319f4240b27ef7c5068b50fc7f2b42c6f44cd"},"timestamp":1477155506,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50ODMyODUyNjc3"},"status":2},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1477155758,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1NTU0MDM4Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1008#issuecomment-255540382"},"message":"Apparently that dates back to https://github.com/DFHack/dfhack/commit/0808c9c0abac980bf14258a7a1390b6d2ad5fd34#diff-83a88bce58b3e1d41a25bf06cadd51acR38, so changing it is probably fine. (There are some other more recent changes that allow things like LD_PRELOAD to be customized, but I'm pretty sure this doesn't affect that.)","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1477155901,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDgzMjg1NDA0Nw=="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"a76319f4240b27ef7c5068b50fc7f2b42c6f44cd"},"timestamp":1477156266,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDI1NTU0MDkxMg==","github-url":"https://github.com/DFHack/dfhack/issues/1008#issuecomment-255540912"},"message":"thanks!","files":null},{"type":4,"author":{"id":"a76319f4240b27ef7c5068b50fc7f2b42c6f44cd"},"timestamp":1477156266,"metadata":{"github-id":"MDEzOlJlb3BlbmVkRXZlbnQ4MzI4NTU1NTI="},"status":1},{"type":4,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1477157583,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50ODMyODYxMjg2"},"status":2}]}