{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1466132920,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNjY2OTk4Ng==","github-url":"https://github.com/DFHack/dfhack/issues/948#issuecomment-226669986"},"message":"Yeah, it looks like there are 7 different anon_X fields being used in the scripts repo right now (although at least one is just a fallback for one that was renamed - it's probably not necessary to maintain that one for compatibility any longer).\n\nIt would probably be better (and faster) to set this up in the scripts repo, yeah. I might also want to look into whether it's possible to require DFHack builds to have submodule build(s) passing too.","files":null},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1466132928,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDY5NTQ2OTYyNQ=="},"added":["idea"],"removed":[]},{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1466132928,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDY5NTQ2OTYyNg=="},"added":["ci"],"removed":[]},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1466135089,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNjY3MzcxNg==","github-url":"https://github.com/DFHack/dfhack/issues/948#issuecomment-226673716"},"message":"Nice - I always enjoy fixing an issue and adding tests so it doesn't come back.\n\nWe could move all our script-related tests to the scripts repo, and use [travis-build](https://github.com/travis-ci/travis-build) to execute them, I think.  It would also be good to check that the docs build still works, but I'm not sure if this is possible without the main docs available (for cross-references etc) - some kind of linter should be possible though.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1466135935,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNjY3NTEwMA==","github-url":"https://github.com/DFHack/dfhack/issues/948#issuecomment-226675100"},"message":"I'm confused as to why travis-build would be necessary - it looks like it's what Travis uses internally to convert .travis.yml to a shell script and run it on VMs, so why not just a normal .travis.yml file?\n\nAnd yeah, documentation checking would be hard. The best I can think of right now is keeping the existing checks in the DFHack repo and having basic ones run in the scripts repo too (the same would apply for the script syntax checks, since there are some lua/ruby files outside of the scripts folder).","files":null},{"type":3,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1466136277,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDIyNjY3NTY1Ng==","github-url":"https://github.com/DFHack/dfhack/issues/948#issuecomment-226675656"},"message":"I was thinking that the scripts repo would have it's own travis setup, to test pull requests and so on, and then travis-build could be used to run `scripts/.travis.yml` from the DFHack build.\n\nAgreed; some duplication of scripts/docs checking seems like the best option to me.","files":null},{"type":3,"author":{"id":"fefd87bd170e69ba989c5932b26d53a6f30e8666"},"timestamp":1580234234,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU3OTM3NjM1Mw==","github-url":"https://github.com/DFHack/dfhack/issues/949#issuecomment-579376353"},"message":"`SDL_NumJoysticks` will return -1 if DFHack has a fatal error. Could that be breaking something?","files":null}]}