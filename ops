{"version":1,"ops":[{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1587867136,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxOTQ2ODMyOA==","github-url":"https://github.com/DFHack/dfhack/issues/1555#issuecomment-619468328"},"message":"\u003e mvfile\n\nThe string \"mvfile\" doesn't appear anywhere in the DFHack codebase, so I'm pretty sure that's not one of our functions. How did you call it?","files":null},{"type":3,"author":{"id":"d4ba99f16422e9377de56dab81d2b84415f00388"},"timestamp":1587868020,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxOTQ2OTc2NQ==","github-url":"https://github.com/DFHack/dfhack/issues/1555#issuecomment-619469765"},"message":"Oh I got a small bug, moved directory and so exported files in that folder. \n`dfhack.filesystem.mvfile(src_file, dest_file)` just does not give any error message so though that that did it :P \nI'm working on https://github.com/DFHack/dfhack/issues/1416 for reference.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1587868942,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxOTQ3MTE1Ng==","github-url":"https://github.com/DFHack/dfhack/issues/1555#issuecomment-619471156"},"message":"That definitely doesn't work for me:\n```\n[lua]# ~dfhack.filesystem.mvfile\nnil\n[lua]# ~dfhack.filesystem.mvfile('a', 'b')\n(interactive):1: attempt to call a nil value (field 'mvfile')\nstack traceback:\n\t(interactive):1: in main chunk\n\t[C]: in function 'safecall'\n\t./hack/lua/dfhack.lua:519: in function 'dfhack.interpreter'\n\t../../code/dfhack/scripts/lua.lua:76: in local 'script_code'\n\t./hack/lua/dfhack.lua:680: in function 'dfhack.run_script_with_env'\n\t(...tail calls...)\n```\n\nIn fact, the reason we didn't implement a move/rename function is because `os.rename()` in Lua already does that.","files":null},{"type":3,"author":{"id":"d4ba99f16422e9377de56dab81d2b84415f00388"},"timestamp":1587869922,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYxOTQ3MjUwNg==","github-url":"https://github.com/DFHack/dfhack/issues/1555#issuecomment-619472506"},"message":"Oh nevermind. Had I had it behind an if test to check if the file existed. And because I was in the wrong folder it never triggered the body of the if condition. So never failed.\nHaha, at least my checks where working correctly :) \n(just tested, gives me error if I actually call it too)","files":null},{"type":4,"author":{"id":"d4ba99f16422e9377de56dab81d2b84415f00388"},"timestamp":1587869922,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MzI3MjQ4NDE4Mg=="},"status":2}]}