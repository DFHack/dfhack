{"version":1,"ops":[{"type":5,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1518575653,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDE0NzI5NjQ4NjE="},"added":["bug"],"removed":[]},{"type":3,"author":{"id":"37f58980110d4e04c0ff4bfa90ec4d1ebcf5b44c"},"timestamp":1527331562,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5MjI1MzIyMA==","github-url":"https://github.com/DFHack/dfhack/issues/1229#issuecomment-392253220"},"message":"I have noticed this in 0.44.10 as well, at various times in different places of my fortress mining designations. I definitely was using digv and setting mining priorities.\n\nAs my fortress was in the final stages of FPS death, ~~I was also very likely using **fastdwarf 1 1**, which causes dwarfs to both teleport _and_ complete tasks more quickly. Maybe that is another element of this issue.~~ It definitely occurs without fastdwarf enabled. On a first-year fort, as soon as I used **digv** on a large patch of Olivine that already had some designations on it, I started getting these announcements.\n\nIt appears related to setting a digging priority, then using digv with a _different_ priority to overwrite the original dig priority. They might both exist at the same time somehow. This appears to be what is happening in my fortressâ€”it's my best guess right now.","files":null},{"type":3,"author":{"id":"37f58980110d4e04c0ff4bfa90ec4d1ebcf5b44c"},"timestamp":1527337985,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5MjI1ODQ1Mg==","github-url":"https://github.com/DFHack/dfhack/issues/1229#issuecomment-392258452"},"message":"This definitely occurred 15 minutes ago in my fortress at a location where I had priority 5 and priority 7 tiles waiting to be mined, immediately after I used **digv** (not digl, but see next paragraph) with \"priority 4\" on a gigantic oval of olivine that overlapped those pre-existing designationss. I don't know if priorities are relevant or not--perhaps not?\n\nAnd on a previous fortress (either 0.44.09 or 0.44.10), I was using **digl** to mine Marble. I noticed when I manually [d] [x] _un-designated_ a large section of mining that was spamming these announcements, several of the orange-ish \"designated to be mined\" tiles disappeared completely--they had apparently already been mined! This occurred several times over the course of that fortress' life. I seem to recall I may have performed multiple **digl** with differing priority levels on that, and I likely also added in some manual [d] rectangle designations on top of the **digl** auto-designations to grab the un-designated gems embedded within the marble here and there. It was a week or two ago, so I don't remember the details of that incident perfectly.\n\nHope this is helpful.","files":null},{"type":3,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1527651757,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDM5MzAyMDM4Nw==","github-url":"https://github.com/DFHack/dfhack/issues/1229#issuecomment-393020387"},"message":"Looking at the map block, there's only one block_square_event_designation_priorityst in block_events, so priorities aren't showing up twice. However, when the issue occurs, some values in there have changed - e.g. the problematic square has a 0 priority (instead of 1000-7000 as set), and some others have 4000 for some reason, possibly tiles I undesignated earlier. I'm really not sure what's going on here. @BenLubar, is there a chance this has something to do with new designation jobs (e.g. herbalism that you dealt with in df-ai)?","files":null},{"type":6,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1527651757,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDkwNjM4MDM0"},"target":"a6cd7d0db7e907f62162674fc97b3d9335a1856a8002c60c500130f770ff5058","message":"Looking at the map block, there's only one block_square_event_designation_priorityst in block_events, so priorities aren't showing up twice. However, when the issue occurs, some values in there have changed - e.g. the problematic square has a 0 priority (instead of 1000-7000 as set), and some others have 4000 for some reason, possibly tiles I undesignated earlier. I'm really not sure what's going on here. @BenLubar, is there a chance this has something to do with new designation jobs (e.g. herbalism that you dealt with in df-ai)?\n\nEdit: the priorities didn't change - I was reading them incorrectly (block_events[i].priority[x] is a column, not a row).","files":null}]}