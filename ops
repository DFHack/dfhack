{"version":1,"ops":[{"type":1,"author":{"id":"f7b5a7930d0e1264ae1e4a774b03a7e78c2b7858"},"timestamp":1487587254,"metadata":{"github-id":"MDU6SXNzdWUyMDg4NDIyNTQ=","github-url":"https://github.com/DFHack/dfhack/issues/1069","origin":"github"},"title":"fix/distracted : new script to meet impossible needs","message":"@rndmvar posted a neat script [on Reddit](https://www.reddit.com/r/dwarffortress/comments/5tb7mr/), to fix distracted pets.  I think it should be added to DFHack after\n\n- [ ] added documentation\n- [ ] improve any error handling and add relevant arguments to the script\n- [ ] move to / save as `fix/distracted-pets`\n\nReddit post follows.\n\n\u003eThis is in reference to [Bug 9567](http://www.bay12games.com/dwarves/mantisbt/view.php?id=9567)\n\n\u003eAfter seeing too many of my pets gain the distracted flag and flash angry yellow or red exclamation marks at me, I decided to see what I could do to remedy the problem.  After a bit of research which lead me to the aforementioned bug page, I found that the pets/mobs have needs that may not be possible to fulfill due to their lack of being able to speak (I think socializing and praying require speech).  So I put together a DFHack script that will set the distracted unit's need values to max levels, thus clearing the distracted debuff.  \n\n\u003eThis script currently takes no arguments, and prints out the needs info of each unit before it changes those values.  This will target all non-player race units currently, including non-player race traders, diplomats, sentient units aligned with the fort, and those things dwelling in the dark parts of the world. (That last one may lead to sudden !FUN! as distracted things appear to be far more sluggish)\n\n\u003eYou can find the script here: https://github.com/rndmvar/DFHack_scripts/blob/master/fix_distracted.rb","files":null}]}