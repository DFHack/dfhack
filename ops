{"version":1,"ops":[{"type":1,"author":{"id":"dfdbc537a4f78553f57a32cc99d65d2f0f024b58"},"timestamp":1356239461,"metadata":{"github-id":"MDU6SXNzdWU5NDg3ODk4","github-url":"https://github.com/DFHack/dfhack/issues/177","origin":"github"},"title":"Stonesense crash at startup","message":"Stonesense is crashing at startup for me again on my 64bit system.\nIt works in my one of my 32bit VMs but not the other it crashes the same way in that one..\n\nHere is a backtrace of the crash.\n\n```\n[DFHack]# stonesense\n[New Thread 0xf12ffb70 (LWP 28331)]\n[New Thread 0xf0afeb70 (LWP 28332)]\nStonesense launched\nUsing allegro version 5.0.5 r1\n[DFHack]# \nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0xf0afeb70 (LWP 28332)]\n0xf484a4ff in _al_xglx_config_select_visual ()\n   from ./stonesense/deplibs/liballegro.so.5.0\n(gdb) bt full\n#0  0xf484a4ff in _al_xglx_config_select_visual ()\n   from ./stonesense/deplibs/liballegro.so.5.0\nNo symbol table info available.\n#1  0xf4847fcb in xdpy_create_display ()\n   from ./stonesense/deplibs/liballegro.so.5.0\nNo symbol table info available.\n#2  0xf4804f8e in al_create_display ()\n   from ./stonesense/deplibs/liballegro.so.5.0\nNo symbol table info available.\n#3  0xf48de489 in stonesense_thread(ALLEGRO_THREAD*, void*) ()\n   from /media/Linux_Data/Dwarf_Fortress/Test_Fortress/0.34.X/df_34_11_linux/df_linux/hack/plugins/stonesense.plug.so\nNo symbol table info available.\n#4  0xf481028f in thread_func_trampoline ()\n   from ./stonesense/deplibs/liballegro.so.5.0\nNo symbol table info available.\n#5  0xf48439b6 in thread_proc_trampoline ()\n   from ./stonesense/deplibs/liballegro.so.5.0\nNo symbol table info available.\n#6  0xf7316c39 in start_thread (arg=0xf0afeb70) at pthread_create.c:304\n        __res = \u003coptimized out\u003e\n        __ignore1 = \u003coptimized out\u003e\n        __ignore2 = \u003coptimized out\u003e\n        pd = 0xf0afeb70\n        now = \u003coptimized out\u003e\n---Type \u003creturn\u003e to continue, or q \u003creturn\u003e to quit---\n        unwind_buf = {cancel_jmp_buf = {{jmp_buf = {-147689484, 0, 4001536, \n                -256908248, -1941553587, -1319588798}, mask_was_saved = 0}}, \n          priv = {pad = {0x0, 0x0, 0x0, 0x0}, data = {prev = 0x0, \n              cleanup = 0x0, canceltype = 0}}}\n        not_first_call = \u003coptimized out\u003e\n        freesize = \u003coptimized out\u003e\n        __PRETTY_FUNCTION__ = \"start_thread\"\n#7  0xf74019ce in clone () from /lib32/libc.so.6\nNo symbol table info available.\n```","files":null}]}