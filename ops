{"version":1,"ops":[{"type":1,"author":{"id":"e77d0a5f059ed8eaaa1afef6624480d02a2f025a"},"timestamp":1469657943,"metadata":{"github-id":"MDU6SXNzdWUxNjc5NzAyMjI=","github-url":"https://github.com/DFHack/dfhack/issues/966","origin":"github"},"title":"Crash in reaction-trigger and/or transform-unit","message":"From the [forums](http://www.bay12forums.com/smf/index.php?topic=139553.msg7110257#msg7110257)\n\nMeph reports that this can crash DF:\n\n```\nmodtools/reaction-trigger -reactionName MUTATE_RAT -allowNonworkerTargets -command [ modtools/transform-unit -unit \\\\TARGET_ID -race RAT_GIANT -caste MALE -suppressAnnouncement ] ]\n```\n\n\u003e It should target a creature pastured on a workshop and turn it into a giant rat. The creature itself is fine, I can buy giant rats at embark, the game has no issues with them in usual circumstances.\n\u003e \n\u003e It crashes when I use transform-unit with reaction-trigger AND -allowNonworkerTargets. Aka when the worker that does the reaction is not the creature that is transformed.\n\nTentatively assigning Expwnent to this due to his involvement with these scripts.","files":null}]}